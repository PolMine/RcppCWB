<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CWB Tools for Creating Corpora — cwb_makeall • RcppCWB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="CWB Tools for Creating Corpora — cwb_makeall"><meta property="og:description" content="Wrappers for the CWB tools (cwb-makeall, cwb-huffcode,
cwb-compress-rdx). Unlike the 'original' command line tools, these
wrappers will always perform a specific indexing/compression step on one
positional attribute, and produce all components."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RcppCWB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PolMine/RcppCWB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>CWB Tools for Creating Corpora</h1>
    <small class="dont-index">Source: <a href="https://github.com/PolMine/RcppCWB/blob/HEAD/R/cwb.R" class="external-link"><code>R/cwb.R</code></a></small>
    <div class="hidden name"><code>cwb_utils.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Wrappers for the CWB tools (<code>cwb-makeall</code>, <code>cwb-huffcode</code>,
<code>cwb-compress-rdx</code>). Unlike the 'original' command line tools, these
wrappers will always perform a specific indexing/compression step on one
positional attribute, and produce all components.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">cwb_makeall</span><span class="op">(</span><span class="va">corpus</span>, <span class="va">p_attribute</span>, registry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">cwb_huffcode</span><span class="op">(</span><span class="va">corpus</span>, <span class="va">p_attribute</span>, registry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">cwb_compress_rdx</span><span class="op">(</span><span class="va">corpus</span>, <span class="va">p_attribute</span>, registry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">cwb_encode</span><span class="op">(</span>
  <span class="va">corpus</span>,
  registry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span>,
  <span class="va">data_dir</span>,
  <span class="va">vrt_dir</span>,
  p_attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"word"</span>, <span class="st">"pos"</span>, <span class="st">"lemma"</span><span class="op">)</span>,
  <span class="va">s_attributes</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>corpus</dt>
<dd><p>name of a CWB corpus (upper case)</p></dd>
<dt>p_attribute</dt>
<dd><p>name p-attribute</p></dd>
<dt>registry</dt>
<dd><p>path to the registry directory, defaults to the value of the
environment variable CORPUS_REGISTRY</p></dd>
<dt>data_dir</dt>
<dd><p>The data directory where <code>cwb_encode</code> will put the binary
files of the indexed corpus.</p></dd>
<dt>vrt_dir</dt>
<dd><p>Directory with input corpus files (verticalised format / file
ending *.vrt).</p></dd>
<dt>p_attributes</dt>
<dd><p>Positional attributes (p-attributes) to be declared.</p></dd>
<dt>s_attributes</dt>
<dd><p>A <code>list</code> of named <code>character</code> vectors to declare
structural attributes that shall be encoded. The names of the list are the
XML elements present in the corpus. Character vectors making up the list
declare the attributes that include the metadata of regions. To declare a
structural attribute without annotations, provide a zero-length character
vector using <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> - see examples.</p></dd>
</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># The package includes and 'unfinished' corpus of debates in the UN General </span></span>
<span class="r-in"><span class="co"># Assembly ("UNGA"), i.e. it does not yet include the reverse index, and it is</span></span>
<span class="r-in"><span class="co"># not compressed.</span></span>
<span class="r-in"><span class="co">#</span></span>
<span class="r-in"><span class="co"># The first step in the following example is to copy the raw</span></span>
<span class="r-in"><span class="co"># corpus to a temporary place.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">registry</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="check_pkg_registry_files.html">check_pkg_registry_files</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="tmp_registry.html">use_tmp_registry</a></span><span class="op">(</span><span class="op">)</span> <span class="kw">else</span> <span class="fu"><a href="get_pkg_registry.html">get_pkg_registry</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="va">home_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"RcppCWB"</span>, <span class="st">"extdata"</span>, <span class="st">"cwb"</span>, <span class="st">"indexed_corpora"</span>, <span class="st">"unga"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, winslash <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tmp_regdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"registry_tmp"</span>, fsep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tmp_data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"indexed_corpora"</span>, fsep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tmp_unga_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp_data_dir</span>, <span class="st">"unga"</span>, fsep <span class="op">=</span> <span class="st">"/"</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">tmp_regdir</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmp_regdir</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">tmp_data_dir</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmp_data_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">tmp_unga_dir</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmp_unga_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">tmp_unga_dir</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="va">regfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">registry</span>, <span class="st">"unga"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">regfile</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^HOME"</span>, <span class="va">regfile</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'HOME "%s"'</span>, <span class="va">tmp_unga_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">regfile</span>, con <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp_regdir</span>, <span class="st">"unga"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">x</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="va">home_dir</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">x</span>, to <span class="op">=</span> <span class="va">tmp_unga_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># perform cwb_makeall (equivalent to cwb-makeall command line utility)</span></span>
<span class="r-in"><span class="fu">cwb_makeall</span><span class="op">(</span>corpus <span class="op">=</span> <span class="st">"UNGA"</span>, p_attribute <span class="op">=</span> <span class="st">"word"</span>, registry <span class="op">=</span> <span class="va">tmp_regdir</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> === Makeall: processing corpus UNGA ===</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Registry directory: /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/registry_tmp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATTRIBUTE word</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  + creating LEXSRT ... OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - lexicon      OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  + creating FREQS ... OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - frequencies  OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - token stream OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  + creating REVCIDX ... OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  + creating REVCORP ... OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ? validating REVCORP ... OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - index        OK</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ========================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># see whether it works</span></span>
<span class="r-in"><span class="va">ids_sentence_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="p_attributes.html">cl_cpos2id</a></span><span class="op">(</span></span>
<span class="r-in">  corpus <span class="op">=</span> <span class="st">"UNGA"</span>, p_attribute <span class="op">=</span> <span class="st">"word"</span>, registry <span class="op">=</span> <span class="va">tmp_regdir</span>,</span>
<span class="r-in">  cpos <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">83</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="va">tokens_sentence_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="p_attributes.html">cl_id2str</a></span><span class="op">(</span></span>
<span class="r-in">  corpus <span class="op">=</span> <span class="st">"UNGA"</span>, p_attribute <span class="op">=</span> <span class="st">"word"</span>,</span>
<span class="r-in">  registry <span class="op">=</span> <span class="va">tmp_regdir</span>, id <span class="op">=</span> <span class="va">ids_sentence_1</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="va">sentence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\\s+([\\.,])"</span>, <span class="st">"\\1"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">tokens_sentence_1</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># perform cwb_huffcode (equivalent to cwb-makeall command line utility)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">.Platform</span><span class="op">$</span><span class="va">OS.type</span> <span class="op">!=</span> <span class="st">"windows"</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="fu">cwb_huffcode</span><span class="op">(</span>corpus <span class="op">=</span> <span class="st">"UNGA"</span>, p_attribute <span class="op">=</span> <span class="st">"word"</span>, registry <span class="op">=</span> <span class="va">tmp_regdir</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> COMPRESSING TOKEN STREAM of (null).word</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Allocated heap with 15902 cells for 7951 items</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Minimal code length:   4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Maximal code length:  17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compressed code len:    1163628 bits,     145453 (+1) bytes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CL  #codes  MinCode   SymIdx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4       2       14        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5       5       23        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   6       1       45        7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7       8       82        8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   8      20      144       16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   9      38      250       36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  10      94      406       74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  11     199      613      168</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  12     351      875      367</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  13     625     1125      718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  14     873     1377     1343</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  15    1373     1381     2216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  16    1162     1600     3589</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  17    3200        0     4751</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        7951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - writing code descriptor block to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.hcd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - writing compressed item sequence to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.huf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - writing sync (every 128 tokens) to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.huf.syn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> VALIDATING UNGA.word</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - reading code descriptor block from /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.hcd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - reading compressed item sequence from /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.huf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - reading sync (mod 128) from /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.huf.syn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> !! You can delete the file &lt;/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.corpus&gt; now.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">.Platform</span><span class="op">$</span><span class="va">OS.type</span> <span class="op">!=</span> <span class="st">"windows"</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="fu">cwb_compress_rdx</span><span class="op">(</span>corpus <span class="op">=</span> <span class="st">"UNGA"</span>, p_attribute <span class="op">=</span> <span class="st">"word"</span>, registry <span class="op">=</span> <span class="va">tmp_regdir</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> COMPRESSING INDEX of UNGA.word</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - writing compressed index to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.crc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - writing compressed index offsets to /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.crx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> VALIDATING UNGA.word</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - reading compressed index from /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.crc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - reading compressed index offsets from /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.crx</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> !! You can delete the file &lt;/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.corpus.rev&gt; now.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> !! You can delete the file &lt;/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/indexed_corpora/unga/word.corpus.rdx&gt; now.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="va">.Platform</span><span class="op">$</span><span class="va">OS.type</span> <span class="op">!=</span> <span class="st">"windows"</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in"><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"tmp_data_dir"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">data_dir</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">cwb_encode</span><span class="op">(</span></span>
<span class="r-in">  corpus <span class="op">=</span> <span class="st">"BTMIN"</span>,</span>
<span class="r-in">  registry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span>,</span>
<span class="r-in">  vrt_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>package <span class="op">=</span> <span class="st">"RcppCWB"</span>, <span class="st">"extdata"</span>, <span class="st">"vrt"</span><span class="op">)</span>,</span>
<span class="r-in">  data_dir <span class="op">=</span> <span class="va">data_dir</span>,</span>
<span class="r-in">  p_attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"word"</span>, <span class="st">"pos"</span>, <span class="st">"lemma"</span><span class="op">)</span>,</span>
<span class="r-in">  s_attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span class="r-in">    plenary_protocol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span class="r-in">      <span class="st">"lp"</span>, <span class="st">"protocol_no"</span>, <span class="st">"date"</span>, <span class="st">"year"</span>, <span class="st">"birthday"</span>, <span class="st">"version"</span>,</span>
<span class="r-in">      <span class="st">"url"</span>, <span class="st">"filetype"</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    speaker <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span class="r-in">      <span class="st">"id"</span>, <span class="st">"type"</span>, <span class="st">"lp"</span>, <span class="st">"protocol_no"</span>, <span class="st">"date"</span>, <span class="st">"year"</span>, <span class="st">"ai_no"</span>, <span class="st">"ai_id"</span>,</span>
<span class="r-in">      <span class="st">"ai_type"</span>, <span class="st">"who"</span>, <span class="st">"name"</span>, <span class="st">"parliamentary_group"</span>, <span class="st">"party"</span>, <span class="st">"role"</span></span>
<span class="r-in">     <span class="op">)</span>,</span>
<span class="r-in">    p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">data_dir</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CORPUS_REGISTRY"</span><span class="op">)</span>, <span class="st">"btmin"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol:0+lp+protocol_no+date+year+birthday+version+url+filetype</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_lp:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_protocol_no:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_date:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_year:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_birthday:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_version:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_url:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V plenary_protocol_filetype:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker:0+id+type+lp+protocol_no+date+year+ai_no+ai_id+ai_type+who+name+parliamentary_group+party+role</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_id:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_type:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_lp:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_protocol_no:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_date:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_year:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_ai_no:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_ai_id:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_ai_type:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_who:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_name:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_parliamentary_group:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_party:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -V speaker_role:0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ATT: -S p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of input files:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - /Users/runner/work/_temp/Library/RcppCWB/extdata/vrt/BT_18_001.vrt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - /Users/runner/work/_temp/Library/RcppCWB/extdata/vrt/BT_18_002.vrt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Start: Fri Jan 28 19:35:18 2022</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         0k tokens processed        0k tokens processed        0k tokens processed        0k tokens processed        0k tokens processed        0k tokens processed        0k tokens processed       14k tokens processed       29k tokens processed       43k tokens processed       43k tokens processed       43k tokens processed                                                  Total size: 50620 tokens (0.0M)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Writing registry file /private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpoFGpnC/registry_tmp/btmin ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done: Fri Jan 28 19:35:18 2022</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andreas Blaette, Bernard Desgraupes, Sylvain Loiseau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

