<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>CWB: cqp/concordance.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CWB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_caf978792d6b0705158f044348baeba4.html">cqp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">concordance.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="globals_8h.html">../cl/globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h.html">../cl/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="corpus_8h.html">../cl/corpus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="attributes_8h.html">../cl/attributes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cdaccess_8h.html">../cl/cdaccess.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="concordance_8h.html">concordance.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="attlist_8h.html">attlist.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h.html">options.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_att_region.html">SAttRegion</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a single s-attribuite region and its annotation.  <a href="struct_s_att_region.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3d18a729763bb54c66c9d4dcfd3582ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a3d18a729763bb54c66c9d4dcfd3582ac">MAXKWICLINELEN</a>&#160;&#160;&#160;65535</td></tr>
<tr class="memdesc:a3d18a729763bb54c66c9d4dcfd3582ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum length of a KWIC line (bytes).  <a href="#a3d18a729763bb54c66c9d4dcfd3582ac">More...</a><br /></td></tr>
<tr class="separator:a3d18a729763bb54c66c9d4dcfd3582ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd42396e4968c231ab633214c87e95fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#afd42396e4968c231ab633214c87e95fe">MAX_S_ATTRS</a>&#160;&#160;&#160;1024        /* max. number of s-attribute; same as <a class="el" href="cwb-decode_8c.html#a34a7d47b1d3fe7b2a401f99657966a7b">MAX_ATTRS</a> in &lt;utils/decode.c&gt; and <a class="el" href="cwb-encode_8c.html#a777e94d5574422823bd06d834441409f">MAXRANGES</a> in &lt;utils/encode.c&gt;  */</td></tr>
<tr class="separator:afd42396e4968c231ab633214c87e95fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a730a1ee4ed287570ab9401377595609c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a730a1ee4ed287570ab9401377595609c">srev</a> (char *s)</td></tr>
<tr class="memdesc:a730a1ee4ed287570ab9401377595609c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverses the argument string (destructively, that is, in situ).  <a href="#a730a1ee4ed287570ab9401377595609c">More...</a><br /></td></tr>
<tr class="separator:a730a1ee4ed287570ab9401377595609c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214fce6bcc55bcd36927d3697c4a645d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a214fce6bcc55bcd36927d3697c4a645d">get_print_attribute_values</a> (<a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *cd, int position, <a class="el" href="struct_cl_auto_string.html">ClAutoString</a> s, int *sp, int max_sp, int add_position_number, <a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *pdr)</td></tr>
<tr class="memdesc:a214fce6bcc55bcd36927d3697c4a645d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints s-attribute values into a <a class="el" href="struct_cl_auto_string.html" title="Underlying structure for the ClAutoString object. ">ClAutoString</a>, for use in a printed concordance line.  <a href="#a214fce6bcc55bcd36927d3697c4a645d">More...</a><br /></td></tr>
<tr class="separator:a214fce6bcc55bcd36927d3697c4a645d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208ca1c02f1d4343a36e6606c17fbaee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a208ca1c02f1d4343a36e6606c17fbaee">sort_s_att_regions</a> (void)</td></tr>
<tr class="separator:a208ca1c02f1d4343a36e6606c17fbaee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35abfd08eb4f80c410893ee6c50a7455"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a35abfd08eb4f80c410893ee6c50a7455">get_position_values</a> (<a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *cd, int position, <a class="el" href="struct_cl_auto_string.html">ClAutoString</a> s, int *sp, int max_sp, int add_position_number, <a class="el" href="concordance_8h.html#a7d4b36128187bea727707d1a46f490f9">ConcLineLayout</a> orientation, <a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *pdr, int nr_mappings, <a class="el" href="class-mapping_8h.html#a6bb7b781f0bc9b0b9755fc8b3b5ce9b3">Mapping</a> *mappings)</td></tr>
<tr class="memdesc:a35abfd08eb4f80c410893ee6c50a7455"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get values at the given corpus position.  <a href="#a35abfd08eb4f80c410893ee6c50a7455">More...</a><br /></td></tr>
<tr class="separator:a35abfd08eb4f80c410893ee6c50a7455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d59764a2299ecfa29039acce969da5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a93d59764a2299ecfa29039acce969da5">remember_this_position</a> (int position, int this_token_start, int this_token_end, int *position_list, int <a class="el" href="eval_8c.html#a3979c81672807025a6bbd0c8abb29b85">nr_positions</a>, int *returned_positions)</td></tr>
<tr class="memdesc:a93d59764a2299ecfa29039acce969da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the asserted number of positions (nr_positions) specified by this_token_start and this_token_end to an array of integers in returned_positions.  <a href="#a93d59764a2299ecfa29039acce969da5">More...</a><br /></td></tr>
<tr class="separator:a93d59764a2299ecfa29039acce969da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf54c7a00760dbef25c640c53ff0bc84"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#adf54c7a00760dbef25c640c53ff0bc84">get_field_separators</a> (int position, <a class="el" href="concordance_8h.html#a2985c39ca529781422c87cdd32e5ad9b">ConcLineField</a> *fields, int nr_fields, int at_end, <a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *pdr)</td></tr>
<tr class="memdesc:adf54c7a00760dbef25c640c53ff0bc84"><td class="mdescLeft">&#160;</td><td class="mdescRight">This oddly-named function prints a series of separators for "fields" to an internal buffer.  <a href="#adf54c7a00760dbef25c640c53ff0bc84">More...</a><br /></td></tr>
<tr class="separator:adf54c7a00760dbef25c640c53ff0bc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcf1b1ff73d06f806c6d30c04366c2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a4fcf1b1ff73d06f806c6d30c04366c2f">setup_kwic_line_memory</a> (void)</td></tr>
<tr class="memdesc:a4fcf1b1ff73d06f806c6d30c04366c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the two empty auto-growing strings used for concordance line concstruction.  <a href="#a4fcf1b1ff73d06f806c6d30c04366c2f">More...</a><br /></td></tr>
<tr class="separator:a4fcf1b1ff73d06f806c6d30c04366c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fa2863ce7933490be222f44df6c636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#ab5fa2863ce7933490be222f44df6c636">cleanup_kwic_line_memory</a> (void)</td></tr>
<tr class="memdesc:ab5fa2863ce7933490be222f44df6c636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory used for building a KWIC line for display.  <a href="#ab5fa2863ce7933490be222f44df6c636">More...</a><br /></td></tr>
<tr class="separator:ab5fa2863ce7933490be222f44df6c636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca71cdda5fea4e7a3520ac3ab814410"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#acca71cdda5fea4e7a3520ac3ab814410">compose_kwic_line</a> (<a class="el" href="cl_8h.html#a3d66fb48bacc2e13505ff8d57c7ac256">Corpus</a> *<a class="el" href="cwb-s-encode_8c.html#aca3a1fb765418f9b9b1d74051aa88667">corpus</a>, int match_start, int match_end, <a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *cd, int *length, int *s_mb, int *s_me, char *left_marker, char *right_marker, int *position_list, int <a class="el" href="eval_8c.html#a3979c81672807025a6bbd0c8abb29b85">nr_positions</a>, int *returned_positions, <a class="el" href="concordance_8h.html#a2985c39ca529781422c87cdd32e5ad9b">ConcLineField</a> *fields, int nr_fields, <a class="el" href="concordance_8h.html#a7d4b36128187bea727707d1a46f490f9">ConcLineLayout</a> orientation, <a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *pdr, int nr_mappings, <a class="el" href="class-mapping_8h.html#a6bb7b781f0bc9b0b9755fc8b3b5ce9b3">Mapping</a> *mappings)</td></tr>
<tr class="memdesc:acca71cdda5fea4e7a3520ac3ab814410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a string for a concordance output line.  <a href="#acca71cdda5fea4e7a3520ac3ab814410">More...</a><br /></td></tr>
<tr class="separator:acca71cdda5fea4e7a3520ac3ab814410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae3abdfbe112350886b8ddefd828918b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_s_att_region.html">SAttRegion</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#ae3abdfbe112350886b8ddefd828918b4">s_att_regions</a> [<a class="el" href="concordance_8c.html#afd42396e4968c231ab633214c87e95fe">MAX_S_ATTRS</a>]</td></tr>
<tr class="separator:ae3abdfbe112350886b8ddefd828918b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd13315790061e19994ae094815df88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a6dd13315790061e19994ae094815df88">sar_sort_index</a> [<a class="el" href="concordance_8c.html#afd42396e4968c231ab633214c87e95fe">MAX_S_ATTRS</a>]</td></tr>
<tr class="separator:a6dd13315790061e19994ae094815df88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f8c360879da990ff0392572f3bf5fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#ab6f8c360879da990ff0392572f3bf5fa">N_sar</a> = 0</td></tr>
<tr class="separator:ab6f8c360879da990ff0392572f3bf5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af24b2888aa148fe2e0be01415fbbc97f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_cl_auto_string.html">ClAutoString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#af24b2888aa148fe2e0be01415fbbc97f">scratch</a> = NULL</td></tr>
<tr class="memdesc:af24b2888aa148fe2e0be01415fbbc97f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scratch string used by get_field_separators only.  <a href="#af24b2888aa148fe2e0be01415fbbc97f">More...</a><br /></td></tr>
<tr class="separator:af24b2888aa148fe2e0be01415fbbc97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a1fa6f1fb462f2b7603fd740abcebc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_cl_auto_string.html">ClAutoString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#aa6a1fa6f1fb462f2b7603fd740abcebc">line</a> = NULL</td></tr>
<tr class="memdesc:aa6a1fa6f1fb462f2b7603fd740abcebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to build the concordance line (main line buffer);.  <a href="#aa6a1fa6f1fb462f2b7603fd740abcebc">More...</a><br /></td></tr>
<tr class="separator:aa6a1fa6f1fb462f2b7603fd740abcebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1839056d002d5d62ff27427ef3f1f3cb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_cl_auto_string.html">ClAutoString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8c.html#a1839056d002d5d62ff27427ef3f1f3cb">token</a> = NULL</td></tr>
<tr class="memdesc:a1839056d002d5d62ff27427ef3f1f3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to build the concordance line (token buffer);.  <a href="#a1839056d002d5d62ff27427ef3f1f3cb">More...</a><br /></td></tr>
<tr class="separator:a1839056d002d5d62ff27427ef3f1f3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="afd42396e4968c231ab633214c87e95fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_S_ATTRS&#160;&#160;&#160;1024        /* max. number of s-attribute; same as <a class="el" href="cwb-decode_8c.html#a34a7d47b1d3fe7b2a401f99657966a7b">MAX_ATTRS</a> in &lt;utils/decode.c&gt; and <a class="el" href="cwb-encode_8c.html#a777e94d5574422823bd06d834441409f">MAXRANGES</a> in &lt;utils/encode.c&gt;  */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3d18a729763bb54c66c9d4dcfd3582ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXKWICLINELEN&#160;&#160;&#160;65535</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>maximum length of a KWIC line (bytes). </p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab5fa2863ce7933490be222f44df6c636"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_kwic_line_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the memory used for building a KWIC line for display. </p>
<p>Best used when CQP shuts down. </p>

<p>References <a class="el" href="cl_8h.html#ae65b7f30d25d63e6db6bc99c9bf2b27e">cl_autostring_delete()</a>.</p>

<p>Referenced by <a class="el" href="llquery_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="acca71cdda5fea4e7a3520ac3ab814410"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* compose_kwic_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cl_8h.html#a3d66fb48bacc2e13505ff8d57c7ac256">Corpus</a> *&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>match_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>match_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *&#160;</td>
          <td class="paramname"><em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>s_mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>s_me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>left_marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>right_marker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>position_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>returned_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="concordance_8h.html#a2985c39ca529781422c87cdd32e5ad9b">ConcLineField</a> *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="concordance_8h.html#a7d4b36128187bea727707d1a46f490f9">ConcLineLayout</a>&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *&#160;</td>
          <td class="paramname"><em>pdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_mappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class-mapping_8h.html#a6bb7b781f0bc9b0b9755fc8b3b5ce9b3">Mapping</a> *&#160;</td>
          <td class="paramname"><em>mappings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a string for a concordance output line. </p>
<p>'position_list' is a list of (corpus) positions. The string start and beginning positions for these corpus positions are written into returned_positions, which must be exactly two times as large as the position list. The number of positions must be in nr_positions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">match_start</td><td>A corpus position </td></tr>
    <tr><td class="paramname">match_end</td><td>A corpus position</td></tr>
    <tr><td class="paramname">fields</td><td>Array of ConcLineFields object (each of which specifies one of the 4 anchors). </td></tr>
    <tr><td class="paramname">nr_fields</td><td>Number of items in the "fields" array.</td></tr>
  </table>
  </dd>
</dl>
<p>roughnotes: I THINK returned_positions is just a blob of memory that the func is being allowd to use. </p><dl class="section return"><dt>Returns</dt><dd>String containing the output line. </dd></dl>

<p>References <a class="el" href="attlist_8c.html#a7be7f302f175dc78fd71765f617ce585">AddNameToAL()</a>, <a class="el" href="struct__print__descr__rec__.html#a571b8bb7e68016a9405f2e8e8b4e7190">_print_descr_rec_::AfterField</a>, <a class="el" href="struct__print__descr__rec__.html#a039f2a2652a1ca6c2fc3c63128c6add9">_print_descr_rec_::AfterToken</a>, <a class="el" href="context__descriptor_8h.html#a9ec602b091ff5e82d41f6af9bf0766a1">ALIGN_CONTEXT</a>, <a class="el" href="cl_8h.html#a3b60fdde6a7c8fbc535efaf526dbcb78">ATT_POS</a>, <a class="el" href="struct__attrbuf.html#aa6941092bf1c0d49260bc71e63e5ef41">_attrbuf::attribute</a>, <a class="el" href="struct__context__description__block.html#ab0c9f5c58479a7132e805c6cb613a606">_context_description_block::attributes</a>, <a class="el" href="struct__print__descr__rec__.html#ab1033295f10f5b47fd7a89ac5cd21117">_print_descr_rec_::BeforeField</a>, <a class="el" href="struct__print__descr__rec__.html#addef25a38c2aebe5a35f0af8800e31f7">_print_descr_rec_::BeforeToken</a>, <a class="el" href="context__descriptor_8h.html#aa562c496c56c89dfc47743527cdea011">CHAR_CONTEXT</a>, <a class="el" href="struct_t_corpus.html#ab7d33183c58d7df43cc5602b9c842b37">TCorpus::charset</a>, <a class="el" href="cdaccess_8c.html#a5e8f82bb50cbb95415de2af1e910e1ff">cl_alg2cpos()</a>, <a class="el" href="cl_8h.html#a25e3b9c45951697140159b4109ee03f9">cl_autostring_concat()</a>, <a class="el" href="cl_8h.html#a6a6967523f39f91cf895aa6eb1b1926e">cl_autostring_ptr()</a>, <a class="el" href="cl_8h.html#a5edd1366d0f8c403ee5829f78ea4859c">cl_autostring_truncate()</a>, <a class="el" href="cl_8h.html#ac14006265a99d03fd2200d7195c7a3fa">cl_charset_strlen()</a>, <a class="el" href="cdaccess_8c.html#addbf0e574a3e8e68431b86ffd7cac8ad">cl_cpos2alg()</a>, <a class="el" href="cdaccess_8c.html#ab9dfb6cb8218e98068496f9dccd17243">cl_cpos2struc()</a>, <a class="el" href="cdaccess_8c.html#ae9db76b80522e91e2735414a079e952b">cl_max_cpos()</a>, <a class="el" href="cdaccess_8c.html#a95ec41c7bd08fce95418a10c0d5c2da2">cl_max_struc()</a>, <a class="el" href="cl_8h.html#a1afd81ceb72fcd8e9e8e91983a0528a8">cl_strdup()</a>, <a class="el" href="cl_8h.html#aebf6f783c8f446c497f08bed574f6938">cl_string_utf8_continuation_byte()</a>, <a class="el" href="cdaccess_8c.html#af0793556b93840555bca436b399a00bd">cl_struc2cpos()</a>, <a class="el" href="concordance_8h.html#a2d31486c5b3317e5f3dabd1a756b38cfa6585ed6f99adf0abd26b3e918ac6c42f">ConcLineHorizontal</a>, <a class="el" href="struct_cl_auto_string.html#a91a70b77df95bd8b0830b49a094c2acb">ClAutoString::data</a>, <a class="el" href="attributes_8h.html#a0f022cbfe7890834b65ea9542eb4f50c">DEFAULT_ATT_NAME</a>, <a class="el" href="attlist_8c.html#a0cf502d952bfb4ae39ec2e2e539a9660">FindInAL()</a>, <a class="el" href="concordance_8c.html#adf54c7a00760dbef25c640c53ff0bc84">get_field_separators()</a>, <a class="el" href="concordance_8c.html#a35abfd08eb4f80c410893ee6c50a7455">get_position_values()</a>, <a class="el" href="concordance_8c.html#a214fce6bcc55bcd36927d3697c4a645d">get_print_attribute_values()</a>, <a class="el" href="struct__context__description__block.html#a53051fa2d939852b0e335f486e401092">_context_description_block::left_structure</a>, <a class="el" href="struct__context__description__block.html#aa4b8e22e70bf39bf1873cfa4f09ae700">_context_description_block::left_type</a>, <a class="el" href="struct__context__description__block.html#a1258cbedc6d0d6ada0e462b87610579d">_context_description_block::left_width</a>, <a class="el" href="struct_cl_auto_string.html#a7360b55975153b822efc5217b7734e6a">ClAutoString::len</a>, <a class="el" href="struct__attlist.html#a1e66fdb8689099e30442d6824a2d423a">_attlist::list</a>, <a class="el" href="struct__attlist.html#a4477f83591734a93ef7b705cbc710db9">_attlist::list_valid</a>, <a class="el" href="macros_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>, <a class="el" href="concordance_8c.html#a3d18a729763bb54c66c9d4dcfd3582ac">MAXKWICLINELEN</a>, <a class="el" href="macros_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>, <a class="el" href="attlist_8c.html#a73b57594edd263982b39913df8fad527">NewAttributeList()</a>, <a class="el" href="struct__attrbuf.html#a35b0b6674742b8bb955b2d672a898c86">_attrbuf::next</a>, <a class="el" href="eval_8c.html#a3979c81672807025a6bbd0c8abb29b85">nr_positions()</a>, <a class="el" href="struct__context__description__block.html#a008f774a80cbd9538b1e50cdd7bf29b0">_context_description_block::print_cpos</a>, <a class="el" href="concordance_8c.html#a93d59764a2299ecfa29039acce969da5">remember_this_position()</a>, <a class="el" href="struct__context__description__block.html#a260b48760c37fb06742e7e84cb271e7a">_context_description_block::right_structure</a>, <a class="el" href="struct__context__description__block.html#a4cd7294feb60136d9bfee4796f67cbd7">_context_description_block::right_type</a>, <a class="el" href="struct__context__description__block.html#a3b766ab37127b9dfc9dced549f12d1b6">_context_description_block::right_width</a>, <a class="el" href="concordance_8c.html#a4fcf1b1ff73d06f806c6d30c04366c2f">setup_kwic_line_memory()</a>, <a class="el" href="concordance_8c.html#a730a1ee4ed287570ab9401377595609c">srev()</a>, <a class="el" href="struct__attrbuf.html#a6e27f49150e9a14580fb313cc2777e00">_attrbuf::status</a>, <a class="el" href="context__descriptor_8h.html#a54e96417e089a7f57307f2d906b6dd72">STRUC_CONTEXT</a>, <a class="el" href="ranges_8c.html#a70163219ede8395a1e8908372ae76f94">text_size</a>, <a class="el" href="struct__print__descr__rec__.html#a028ac30f0b0057eb25fd1c81b4c46f06">_print_descr_rec_::TokenSeparator</a>, <a class="el" href="cl_8h.html#aa018eeb7e5a4bb1586a3f4337011daeaa3946b00fe1f38206339d69285cda6b03">utf8</a>, <a class="el" href="attlist_8c.html#addce9ac5a0e5aa8f12997abcce56f210">VerifyList()</a>, <a class="el" href="eval_8h.html#a93fe6fe1a66a9de33bb160f0c3e18954a09c37d051e7e4b3f3a7e8e75dca15912">word</a>, and <a class="el" href="context__descriptor_8h.html#ac460eee1177dee4721b4132d9aef7619">WORD_CONTEXT</a>.</p>

<p>Referenced by <a class="el" href="html-print_8h.html#a22dbc983553238cd8caeda0fe0207f62">html_print_output()</a>, <a class="el" href="latex-print_8h.html#a9c36a5e0d21ea1965afb62e854f07630">latex_print_output()</a>, <a class="el" href="ascii-print_8c.html#a40e8b4916082b7c2aa968b76e83f928f">print_concordance_line()</a>, <a class="el" href="print__align_8h.html#a788d17c5137b4ed29a1cbef60a2e657e">printAlignedStrings()</a>, and <a class="el" href="sgml-print_8h.html#a91bd00e9042003beba24b41d32266c7b">sgml_print_output()</a>.</p>

</div>
</div>
<a class="anchor" id="adf54c7a00760dbef25c640c53ff0bc84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_field_separators </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="concordance_8h.html#a2985c39ca529781422c87cdd32e5ad9b">ConcLineField</a> *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>at_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *&#160;</td>
          <td class="paramname"><em>pdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This oddly-named function prints a series of separators for "fields" to an internal buffer. </p>
<p>"Field" in this poition means one of the 4 anchor points (begin, end, target, keyword).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>The corpus position (cpos) whose field-sepaators we want. </td></tr>
    <tr><td class="paramname">fields</td><td>Pointer to array of ConcLineFields object (each of which specifies one of the 4 anchors). </td></tr>
    <tr><td class="paramname">nr_fields</td><td>Number of items in the "fields" array. </td></tr>
    <tr><td class="paramname">at_end</td><td>Boolean: if true, we get the end-separators for the fields at this cpos; if false, we get the beginning-separators for the fields at this cpos. </td></tr>
    <tr><td class="paramname">pdr</td><td>The PDR for the current concordance printout. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a module-internal static string buffer containing the requested string. Do not free it or alter it. The buffer's content will change when this function is called again. The function will return NULL if the requested string would have been zero-length. </dd></dl>

<p>References <a class="el" href="cl_8h.html#a25e3b9c45951697140159b4109ee03f9">cl_autostring_concat()</a>, <a class="el" href="cl_8h.html#a462166471bce16a1edc004e733f756eb">cl_autostring_new()</a>, <a class="el" href="cl_8h.html#a5edd1366d0f8c403ee5829f78ea4859c">cl_autostring_truncate()</a>, <a class="el" href="struct_cl_auto_string.html#a91a70b77df95bd8b0830b49a094c2acb">ClAutoString::data</a>, <a class="el" href="struct_cl_auto_string.html#a7360b55975153b822efc5217b7734e6a">ClAutoString::len</a>, <a class="el" href="struct__print__descr__rec__.html#a15325bb2485fa61f29c5c874f4186c48">_print_descr_rec_::printField</a>, and <a class="el" href="struct___conc_line_field.html#ac765329451135abec74c45e1897abf26">_ConcLineField::type</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a35abfd08eb4f80c410893ee6c50a7455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_position_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *&#160;</td>
          <td class="paramname"><em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cl_auto_string.html">ClAutoString</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_position_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="concordance_8h.html#a7d4b36128187bea727707d1a46f490f9">ConcLineLayout</a>&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *&#160;</td>
          <td class="paramname"><em>pdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_mappings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class-mapping_8h.html#a6bb7b781f0bc9b0b9755fc8b3b5ce9b3">Mapping</a> *&#160;</td>
          <td class="paramname"><em>mappings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get values at the given corpus position. </p>

<p>References <a class="el" href="struct__print__descr__rec__.html#a08a4e1a75fb8c852e13dbafe12fe6845">_print_descr_rec_::AfterLine</a>, <a class="el" href="struct_s_att_region.html#af00339ab2b93314bfe3875960b78db02">SAttRegion::annot</a>, <a class="el" href="union___attribute.html#a92ee130caba4408ab4de51c602910107">_Attribute::any</a>, <a class="el" href="struct__attrbuf.html#aa6941092bf1c0d49260bc71e63e5ef41">_attrbuf::attribute</a>, <a class="el" href="struct__mapping.html#aa6941092bf1c0d49260bc71e63e5ef41">_mapping::attribute</a>, <a class="el" href="struct__context__description__block.html#ab0c9f5c58479a7132e805c6cb613a606">_context_description_block::attributes</a>, <a class="el" href="struct__print__descr__rec__.html#a51f39cd36ef444b1fea6a7809ab21056">_print_descr_rec_::AttributeSeparator</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="cl_8h.html#a8807f044dd47ab4d1f1c3eba26b2646c">cderrno</a>, <a class="el" href="cl_8h.html#a25e3b9c45951697140159b4109ee03f9">cl_autostring_concat()</a>, <a class="el" href="cl_8h.html#a5edd1366d0f8c403ee5829f78ea4859c">cl_autostring_truncate()</a>, <a class="el" href="cdaccess_8c.html#a1fc39a03758d250ec06499a0692da6ff">cl_cpos2str()</a>, <a class="el" href="cdaccess_8c.html#ab9dfb6cb8218e98068496f9dccd17243">cl_cpos2struc()</a>, <a class="el" href="cl_8h.html#ad68dfe0ca2fbad5052e8213a06f5b4ba">CL_MAX_LINE_LENGTH</a>, <a class="el" href="cdaccess_8c.html#af0793556b93840555bca436b399a00bd">cl_struc2cpos()</a>, <a class="el" href="cdaccess_8c.html#a68c164c901d2ec3304e981bc85320bf5">cl_struc2str()</a>, <a class="el" href="cdaccess_8c.html#a43a3631745e05f8fafe5006141d57663">cl_struc_values()</a>, <a class="el" href="concordance_8h.html#a2d31486c5b3317e5f3dabd1a756b38cfa6585ed6f99adf0abd26b3e918ac6c42f">ConcLineHorizontal</a>, <a class="el" href="concordance_8h.html#a2d31486c5b3317e5f3dabd1a756b38cfa530f6aee70f1cf28bddab3007f14c1bc">ConcLineVertical</a>, <a class="el" href="struct__print__descr__rec__.html#ab574a9c966ec04cda3fe0ad36de7605d">_print_descr_rec_::CPOSPrintFormat</a>, <a class="el" href="struct_cl_auto_string.html#a91a70b77df95bd8b0830b49a094c2acb">ClAutoString::data</a>, <a class="el" href="struct_s_att_region.html#abce9f5dc9c83f2639b72024fdee5d388">SAttRegion::end</a>, <a class="el" href="cl_8h.html#ac908cfa3945acd04b7fc8b794220de51">get_id_at_position</a>, <a class="el" href="struct__attlist.html#a1e66fdb8689099e30442d6824a2d423a">_attlist::list</a>, <a class="el" href="class-mapping_8c.html#aca894a0480d71ea9c6f85c6f02ca525c">map_id_to_class_number()</a>, <a class="el" href="concordance_8c.html#ab6f8c360879da990ff0392572f3bf5fa">N_sar</a>, <a class="el" href="struct_s_att_region.html#ad547fb8186b526cb1b588daad4334fbe">SAttRegion::name</a>, <a class="el" href="struct__attrbuf.html#a35b0b6674742b8bb955b2d672a898c86">_attrbuf::next</a>, <a class="el" href="struct__print__descr__rec__.html#a61df1842753cc26a8eb54aea07b58346">_print_descr_rec_::printToken</a>, <a class="el" href="concordance_8c.html#a6dd13315790061e19994ae094815df88">sar_sort_index</a>, <a class="el" href="options_8h.html#a3bae9404653d93de8438d0a4a07370e0">show_tag_attributes</a>, <a class="el" href="concordance_8c.html#a208ca1c02f1d4343a36e6606c17fbaee">sort_s_att_regions()</a>, <a class="el" href="struct_s_att_region.html#a37722a150250e2a5a98e5e0d11e53449">SAttRegion::start</a>, <a class="el" href="struct__attrbuf.html#a6e27f49150e9a14580fb313cc2777e00">_attrbuf::status</a>, <a class="el" href="struct__context__description__block.html#a3dc101bb70f3d6bcc4bfebef24d7837f">_context_description_block::strucAttributes</a>, <a class="el" href="struct__print__descr__rec__.html#a9d667c7072354c05368e4dfe43ac1d9a">_print_descr_rec_::StructureBeginPrefix</a>, <a class="el" href="struct__print__descr__rec__.html#a8201da42163068a9cbc5be14384474ca">_print_descr_rec_::StructureBeginSuffix</a>, <a class="el" href="struct__print__descr__rec__.html#aa943d68d6a5712279039db97ea97f60a">_print_descr_rec_::StructureEndPrefix</a>, <a class="el" href="struct__print__descr__rec__.html#af8db7c417ab1cb04d670a31135c74697">_print_descr_rec_::StructureEndSuffix</a>, and <a class="el" href="eval_8h.html#a93fe6fe1a66a9de33bb160f0c3e18954a09c37d051e7e4b3f3a7e8e75dca15912">word</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a214fce6bcc55bcd36927d3697c4a645d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_print_attribute_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="context__descriptor_8h.html#a6384392160db973f181e6f93af2d0a3b">ContextDescriptor</a> *&#160;</td>
          <td class="paramname"><em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cl_auto_string.html">ClAutoString</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>add_position_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="print-modes_8h.html#a2578cc6aa74a720ea513e4f0d903d633">PrintDescriptionRecord</a> *&#160;</td>
          <td class="paramname"><em>pdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints s-attribute values into a <a class="el" href="struct_cl_auto_string.html" title="Underlying structure for the ClAutoString object. ">ClAutoString</a>, for use in a printed concordance line. </p>
<p>(Note, the function is called "attribute values" but it very specifically means s-attribvutes.)</p>
<p>The s-attributes that will be printed are determined by the contents of the ContextDescriptor object; the PrintDescriptionRecord determines what they look like.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cd</td><td>Print settings (context size/type; atts to print) </td></tr>
    <tr><td class="paramname">position</td><td>The CPOS to be used in the position at the start </td></tr>
    <tr><td class="paramname">s</td><td>Results will be concatenated onto this string. </td></tr>
    <tr><td class="paramname">sp</td><td>Depracated argument: not used by func </td></tr>
    <tr><td class="paramname">max_sp</td><td>Depracated argument: not used by func </td></tr>
    <tr><td class="paramname">add_position_number</td><td>Boolean: whether or not to make a position number (start of concordance line) </td></tr>
    <tr><td class="paramname">pdr</td><td>Print settings (of main mode) to use </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="struct__print__descr__rec__.html#af0c7141938aff20af18e243702c76ecb">_print_descr_rec_::AfterPrintStructures</a>, <a class="el" href="union___attribute.html#a92ee130caba4408ab4de51c602910107">_Attribute::any</a>, <a class="el" href="struct__attrbuf.html#aa6941092bf1c0d49260bc71e63e5ef41">_attrbuf::attribute</a>, <a class="el" href="struct__print__descr__rec__.html#ade333de71774d7407bc76bab7ce8a70b">_print_descr_rec_::BeforePrintStructures</a>, <a class="el" href="cl_8h.html#a25e3b9c45951697140159b4109ee03f9">cl_autostring_concat()</a>, <a class="el" href="cl_8h.html#a552cbf916c1c3af99e80dfd77f10661a">cl_cpos2struc2str()</a>, <a class="el" href="cl_8h.html#ad68dfe0ca2fbad5052e8213a06f5b4ba">CL_MAX_LINE_LENGTH</a>, <a class="el" href="struct__print__descr__rec__.html#ab574a9c966ec04cda3fe0ad36de7605d">_print_descr_rec_::CPOSPrintFormat</a>, <a class="el" href="struct__attlist.html#a1e66fdb8689099e30442d6824a2d423a">_attlist::list</a>, <a class="el" href="struct__attrbuf.html#a35b0b6674742b8bb955b2d672a898c86">_attrbuf::next</a>, <a class="el" href="struct__print__descr__rec__.html#a9ba9241cde1242c783a3a434c5581ea1">_print_descr_rec_::PrintStructureSeparator</a>, <a class="el" href="struct__context__description__block.html#ac93f87f30c52ef94c867354dcf511bed">_context_description_block::printStructureTags</a>, <a class="el" href="struct__print__descr__rec__.html#a61df1842753cc26a8eb54aea07b58346">_print_descr_rec_::printToken</a>, <a class="el" href="struct__attrbuf.html#a6e27f49150e9a14580fb313cc2777e00">_attrbuf::status</a>, <a class="el" href="struct__print__descr__rec__.html#a9d667c7072354c05368e4dfe43ac1d9a">_print_descr_rec_::StructureBeginPrefix</a>, and <a class="el" href="struct__print__descr__rec__.html#a8201da42163068a9cbc5be14384474ca">_print_descr_rec_::StructureBeginSuffix</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a93d59764a2299ecfa29039acce969da5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remember_this_position </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>this_token_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>this_token_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>position_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>returned_positions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the asserted number of positions (nr_positions) specified by this_token_start and this_token_end to an array of integers in returned_positions. </p>

<p>References <a class="el" href="eval_8c.html#a3979c81672807025a6bbd0c8abb29b85">nr_positions()</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fcf1b1ff73d06f806c6d30c04366c2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_kwic_line_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the two empty auto-growing strings used for concordance line concstruction. </p>

<p>References <a class="el" href="cl_8h.html#a462166471bce16a1edc004e733f756eb">cl_autostring_new()</a>, and <a class="el" href="cl_8h.html#a5edd1366d0f8c403ee5829f78ea4859c">cl_autostring_truncate()</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<a class="anchor" id="a208ca1c02f1d4343a36e6606c17fbaee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sort_s_att_regions </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="struct_s_att_region.html#abce9f5dc9c83f2639b72024fdee5d388">SAttRegion::end</a>, <a class="el" href="concordance_8c.html#ab6f8c360879da990ff0392572f3bf5fa">N_sar</a>, <a class="el" href="concordance_8c.html#a6dd13315790061e19994ae094815df88">sar_sort_index</a>, and <a class="el" href="struct_s_att_region.html#a37722a150250e2a5a98e5e0d11e53449">SAttRegion::start</a>.</p>

<p>Referenced by <a class="el" href="concordance_8c.html#a35abfd08eb4f80c410893ee6c50a7455">get_position_values()</a>.</p>

</div>
</div>
<a class="anchor" id="a730a1ee4ed287570ab9401377595609c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* srev </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reverses the argument string (destructively, that is, in situ). </p>
<p>Cf. the non-standard (microsoft) function strrev.</p>
<p>This does not respect UTF-8, so anything reversed <em>must</em> be re-reversed before output or there will be invalid byte sequences.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The string to modify. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the modified string (same memory area as the argument string). </dd></dl>

<p>References <a class="el" href="cwb-itoa_8c.html#ac1ed595d526b1beccae8e324475d61ea">buf</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a06f7cd351ea5033123396432b9c479fa">compose_kwic_line()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa6a1fa6f1fb462f2b7603fd740abcebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_cl_auto_string.html">ClAutoString</a> line = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to build the concordance line (main line buffer);. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="concordance_8c.html#acca71cdda5fea4e7a3520ac3ab814410" title="Builds a string for a concordance output line. ">compose_kwic_line</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab6f8c360879da990ff0392572f3bf5fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int N_sar = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="concordance_8c.html#a35abfd08eb4f80c410893ee6c50a7455">get_position_values()</a>, and <a class="el" href="concordance_8c.html#a208ca1c02f1d4343a36e6606c17fbaee">sort_s_att_regions()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3abdfbe112350886b8ddefd828918b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_s_att_region.html">SAttRegion</a> s_att_regions[<a class="el" href="concordance_8c.html#afd42396e4968c231ab633214c87e95fe">MAX_S_ATTRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6dd13315790061e19994ae094815df88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sar_sort_index[<a class="el" href="concordance_8c.html#afd42396e4968c231ab633214c87e95fe">MAX_S_ATTRS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="concordance_8c.html#a35abfd08eb4f80c410893ee6c50a7455">get_position_values()</a>, and <a class="el" href="concordance_8c.html#a208ca1c02f1d4343a36e6606c17fbaee">sort_s_att_regions()</a>.</p>

</div>
</div>
<a class="anchor" id="af24b2888aa148fe2e0be01415fbbc97f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_cl_auto_string.html">ClAutoString</a> scratch = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scratch string used by get_field_separators only. </p>

</div>
</div>
<a class="anchor" id="a1839056d002d5d62ff27427ef3f1f3cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_cl_auto_string.html">ClAutoString</a> token = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to build the concordance line (token buffer);. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="concordance_8c.html#acca71cdda5fea4e7a3520ac3ab814410" title="Builds a string for a concordance output line. ">compose_kwic_line</a> </dd></dl>

<p>Referenced by <a class="el" href="print-modes_8h.html#ab5b5d03178d7a663b414ffcb3150528a">ComputePrintStructures()</a>, <a class="el" href="cwb-encode_8c.html#adc6d582037bec1ccba6ab40a9ddbbf87">encode_add_wattr_line()</a>, <a class="el" href="macro_8h.html#aa343c98285f1a32ef30f8da7cd1ce4a8">expand_macro()</a>, <a class="el" href="cwb-decode_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, <a class="el" href="print-modes_8h.html#ae4bc8271b2b52aff7cd4efc0ac7f2f27">ParsePrintOptions()</a>, <a class="el" href="cwb-encode_8c.html#a0365f60206bd41cdb976e2e7d9641731">range_open()</a>, <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>, <a class="el" href="ranges_8c.html#a0199b9d38e35100de957e78f0ad63169">SortExternally()</a>, and <a class="el" href="ranges_8h.html#aaf5f006cef0ac7c1fdb5c9d55558c11a">SortSubcorpus()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 17 2017 20:15:18 for CWB by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
