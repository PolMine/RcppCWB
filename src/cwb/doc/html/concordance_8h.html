<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CWB: cqp/concordance.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CWB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('concordance_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">concordance.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="context__descriptor_8h.html">context_descriptor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="print-modes_8h.html">print-modes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___conc_line_field.html">_ConcLineField</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">ConcLineField : a concordance line "field" is one of the four "anchors": that is, match, matchend, target, keyword.  <a href="struct___conc_line_field.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a86a17011b8a5d29a2f77ce4f55c0d1fd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___conc_line_field.html">_ConcLineField</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8h.html#a86a17011b8a5d29a2f77ce4f55c0d1fd">ConcLineField</a></td></tr>
<tr class="memdesc:a86a17011b8a5d29a2f77ce4f55c0d1fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">ConcLineField : a concordance line "field" is one of the four "anchors": that is, match, matchend, target, keyword.  <a href="concordance_8h.html#a86a17011b8a5d29a2f77ce4f55c0d1fd">More...</a><br /></td></tr>
<tr class="separator:a86a17011b8a5d29a2f77ce4f55c0d1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af5e3701d69b73c87446e42afc417c966"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8h.html#af5e3701d69b73c87446e42afc417c966">compose_kwic_line</a> (<a class="el" href="cl_8h.html#a3d66fb48bacc2e13505ff8d57c7ac256">Corpus</a> *<a class="el" href="cwb-s-encode_8c.html#aca3a1fb765418f9b9b1d74051aa88667">corpus</a>, int match_start, int match_end, <a class="el" href="struct_context_descriptor.html">ContextDescriptor</a> *context, char *left_marker, char *right_marker, <a class="el" href="concordance_8h.html#a86a17011b8a5d29a2f77ce4f55c0d1fd">ConcLineField</a> *fields, int nr_fields, <a class="el" href="struct_print_description_record.html">PrintDescriptionRecord</a> *pdr)</td></tr>
<tr class="memdesc:af5e3701d69b73c87446e42afc417c966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a string for a concordance output line.  <a href="concordance_8h.html#af5e3701d69b73c87446e42afc417c966">More...</a><br /></td></tr>
<tr class="separator:af5e3701d69b73c87446e42afc417c966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fa2863ce7933490be222f44df6c636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="concordance_8h.html#ab5fa2863ce7933490be222f44df6c636">cleanup_kwic_line_memory</a> (void)</td></tr>
<tr class="memdesc:ab5fa2863ce7933490be222f44df6c636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory used for building a KWIC line for display.  <a href="concordance_8h.html#ab5fa2863ce7933490be222f44df6c636">More...</a><br /></td></tr>
<tr class="separator:ab5fa2863ce7933490be222f44df6c636"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a86a17011b8a5d29a2f77ce4f55c0d1fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86a17011b8a5d29a2f77ce4f55c0d1fd">&#9670;&nbsp;</a></span>ConcLineField</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___conc_line_field.html">_ConcLineField</a> <a class="el" href="concordance_8h.html#a86a17011b8a5d29a2f77ce4f55c0d1fd">ConcLineField</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ConcLineField : a concordance line "field" is one of the four "anchors": that is, match, matchend, target, keyword. </p>
<p>This object contains a record of the location of one such anchor point and its type. This can be passed to a "field-printing" function to perform special rendering of tokens in the "anchor" within a concordance line. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab5fa2863ce7933490be222f44df6c636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5fa2863ce7933490be222f44df6c636">&#9670;&nbsp;</a></span>cleanup_kwic_line_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_kwic_line_memory </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the memory used for building a KWIC line for display. </p>
<p>Best used when CQP shuts down. </p>

<p class="reference">References <a class="el" href="cl_8h.html#ae65b7f30d25d63e6db6bc99c9bf2b27e">cl_autostring_delete()</a>, <a class="el" href="concordance_8c.html#aa6a1fa6f1fb462f2b7603fd740abcebc">line</a>, <a class="el" href="concordance_8c.html#af24b2888aa148fe2e0be01415fbbc97f">scratch</a>, and <a class="el" href="concordance_8c.html#a1839056d002d5d62ff27427ef3f1f3cb">token</a>.</p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#ae9d7f6639de6137a22a3cd3b2c89e767">cqp_cleanup_memory()</a>.</p>

</div>
</div>
<a id="af5e3701d69b73c87446e42afc417c966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e3701d69b73c87446e42afc417c966">&#9670;&nbsp;</a></span>compose_kwic_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* compose_kwic_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cl_8h.html#a3d66fb48bacc2e13505ff8d57c7ac256">Corpus</a> *&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>match_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>match_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_context_descriptor.html">ContextDescriptor</a> *&#160;</td>
          <td class="paramname"><em>cd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>left_kwic_delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>right_kwic_delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="concordance_8h.html#a86a17011b8a5d29a2f77ce4f55c0d1fd">ConcLineField</a> *&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nr_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_print_description_record.html">PrintDescriptionRecord</a> *&#160;</td>
          <td class="paramname"><em>pdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a string for a concordance output line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corpus</td><td>The corpus we're pritning from </td></tr>
    <tr><td class="paramname">match_start</td><td>A corpus position (start of match) </td></tr>
    <tr><td class="paramname">match_end</td><td>A corpus position (end of match) </td></tr>
    <tr><td class="paramname">cd</td><td>ContrextDescriptor to use for printing. </td></tr>
    <tr><td class="paramname">left_kwic_delim</td><td>String inserted at start of match. </td></tr>
    <tr><td class="paramname">right_kwic_delim</td><td>String inserted at end of match. THIS AND THE PREVIOUS ARE ONLY USED BY ascii-print./... which passes in global the global options set by LeftKWICDelim and RightKWICDelim So actually, these could be just 1 param: include_global_hit_match_delimiters </td></tr>
    <tr><td class="paramname">fields</td><td>Array of ConcLineFields object (that is, anchors). </td></tr>
    <tr><td class="paramname">nr_fields</td><td>Number of items in the "fields" array. </td></tr>
    <tr><td class="paramname">pdr</td><td>PDR contains the strings to be printed among bits of data from the ciorpus to make the conconrdance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>String containing the output line. </dd></dl>
<p>Use with variables "line", "tok_sep" to insert a separator iff there are already 1+ tokens in the line; macro used only in this function <br  />
</p>

<p class="reference">References <a class="el" href="context__descriptor_8h.html#a5bd986c4098011fa3e58e5ece6ee29cea538f5b19f5118bc608c4d65af47ceff9">a_att_context</a>, <a class="el" href="concordance_8c.html#a2c986dd66782d83b2ed82f40982d4967">add_sep_to_line_if_not_empty</a>, <a class="el" href="attlist_8c.html#a40694985d25ed045b85e013cbaedac71">AddNameToAL()</a>, <a class="el" href="struct_print_description_record.html#a571b8bb7e68016a9405f2e8e8b4e7190">PrintDescriptionRecord::AfterField</a>, <a class="el" href="struct_print_description_record.html#a039f2a2652a1ca6c2fc3c63128c6add9">PrintDescriptionRecord::AfterToken</a>, <a class="el" href="cl_8h.html#a3b60fdde6a7c8fbc535efaf526dbcb78">ATT_POS</a>, <a class="el" href="struct__attrbuf.html#aa6941092bf1c0d49260bc71e63e5ef41">_attrbuf::attribute</a>, <a class="el" href="struct_context_descriptor.html#ab0c9f5c58479a7132e805c6cb613a606">ContextDescriptor::attributes</a>, <a class="el" href="struct_print_description_record.html#ab1033295f10f5b47fd7a89ac5cd21117">PrintDescriptionRecord::BeforeField</a>, <a class="el" href="struct_print_description_record.html#addef25a38c2aebe5a35f0af8800e31f7">PrintDescriptionRecord::BeforeToken</a>, <a class="el" href="context__descriptor_8h.html#a5bd986c4098011fa3e58e5ece6ee29ceaab9fc3b43fabc3d79e2e6fef12ee8233">char_context</a>, <a class="el" href="struct_t_corpus.html#ab7d33183c58d7df43cc5602b9c842b37">TCorpus::charset</a>, <a class="el" href="cdaccess_8c.html#a5e8f82bb50cbb95415de2af1e910e1ff">cl_alg2cpos()</a>, <a class="el" href="cl_8h.html#a25e3b9c45951697140159b4109ee03f9">cl_autostring_concat()</a>, <a class="el" href="cl_8h.html#a6a6967523f39f91cf895aa6eb1b1926e">cl_autostring_ptr()</a>, <a class="el" href="cl_8h.html#a5edd1366d0f8c403ee5829f78ea4859c">cl_autostring_truncate()</a>, <a class="el" href="cl_8h.html#ac14006265a99d03fd2200d7195c7a3fa">cl_charset_strlen()</a>, <a class="el" href="cdaccess_8c.html#addbf0e574a3e8e68431b86ffd7cac8ad">cl_cpos2alg()</a>, <a class="el" href="cdaccess_8c.html#ab9dfb6cb8218e98068496f9dccd17243">cl_cpos2struc()</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cdaccess_8c.html#ae9db76b80522e91e2735414a079e952b">cl_max_cpos()</a>, <a class="el" href="cdaccess_8c.html#a95ec41c7bd08fce95418a10c0d5c2da2">cl_max_struc()</a>, <a class="el" href="cl_8h.html#a1afd81ceb72fcd8e9e8e91983a0528a8">cl_strdup()</a>, <a class="el" href="cl_8h.html#aebf6f783c8f446c497f08bed574f6938">cl_string_utf8_continuation_byte()</a>, <a class="el" href="cdaccess_8c.html#af0793556b93840555bca436b399a00bd">cl_struc2cpos()</a>, <a class="el" href="concordance_8c.html#a8a39b215d34b711d7311be681305df47">compose_anchor_separators()</a>, <a class="el" href="concordance_8c.html#a67d2fd072987c54cc312095f63c3fd25">compose_kwic_print_structures()</a>, <a class="el" href="concordance_8c.html#a748afadca12eac0165f43ccecfd5dd6d">compose_kwic_token()</a>, <a class="el" href="cwb-compress-rdx_8c.html#aca3a1fb765418f9b9b1d74051aa88667">corpus</a>, <a class="el" href="cwb-globals_8h.html#a7d9534bf3e01d80713660744cfc44562">CWB_DEFAULT_ATT_NAME</a>, <a class="el" href="struct_cl_auto_string.html#a91a70b77df95bd8b0830b49a094c2acb">ClAutoString::data</a>, <a class="el" href="attlist_8c.html#ac69cc92e385b1dd966796466b80835f1">DestroyAttributeList()</a>, <a class="el" href="attlist_8c.html#a0cf502d952bfb4ae39ec2e2e539a9660">FindInAL()</a>, <a class="el" href="struct_context_descriptor.html#a53051fa2d939852b0e335f486e401092">ContextDescriptor::left_structure</a>, <a class="el" href="struct_context_descriptor.html#a701bf8df70d1328eb344af5786a9c08c">ContextDescriptor::left_type</a>, <a class="el" href="struct_context_descriptor.html#a1258cbedc6d0d6ada0e462b87610579d">ContextDescriptor::left_width</a>, <a class="el" href="struct_cl_auto_string.html#a7360b55975153b822efc5217b7734e6a">ClAutoString::len</a>, <a class="el" href="concordance_8c.html#aa6a1fa6f1fb462f2b7603fd740abcebc">line</a>, <a class="el" href="struct__attlist.html#a1e66fdb8689099e30442d6824a2d423a">_attlist::list</a>, <a class="el" href="struct__attlist.html#a4477f83591734a93ef7b705cbc710db9">_attlist::list_valid</a>, <a class="el" href="cl_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>, <a class="el" href="cl_8h.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>, <a class="el" href="attlist_8c.html#a73b57594edd263982b39913df8fad527">NewAttributeList()</a>, <a class="el" href="attlist_8c.html#a35540d6576da8e759bfce0df00bd9860">NrOfElementsWithStatusAL()</a>, <a class="el" href="struct_context_descriptor.html#a008f774a80cbd9538b1e50cdd7bf29b0">ContextDescriptor::print_cpos</a>, <a class="el" href="struct_context_descriptor.html#a260b48760c37fb06742e7e84cb271e7a">ContextDescriptor::right_structure</a>, <a class="el" href="struct_context_descriptor.html#a6cc08e67e2a13304f31a8bee8c856b35">ContextDescriptor::right_type</a>, <a class="el" href="struct_context_descriptor.html#a3b766ab37127b9dfc9dced549f12d1b6">ContextDescriptor::right_width</a>, <a class="el" href="context__descriptor_8h.html#a5bd986c4098011fa3e58e5ece6ee29ceafb63497a521d1fb0ee678d0ad495e33a">s_att_context</a>, <a class="el" href="concordance_8c.html#aad70269d7992cf15eb0417998f1e675a">setup_kwic_line_memory()</a>, <a class="el" href="concordance_8c.html#a730a1ee4ed287570ab9401377595609c">srev()</a>, <a class="el" href="struct__attrbuf.html#a6e27f49150e9a14580fb313cc2777e00">_attrbuf::status</a>, <a class="el" href="ranges_8c.html#a70163219ede8395a1e8908372ae76f94">text_size</a>, <a class="el" href="concordance_8c.html#a1839056d002d5d62ff27427ef3f1f3cb">token</a>, <a class="el" href="options_8c.html#a148da27595effa236fbbaccd7e88a1bc">token_separator</a>, <a class="el" href="struct_print_description_record.html#a028ac30f0b0057eb25fd1c81b4c46f06">PrintDescriptionRecord::TokenSeparator</a>, <a class="el" href="cl_8h.html#aa018eeb7e5a4bb1586a3f4337011daeaa3946b00fe1f38206339d69285cda6b03">utf8</a>, <a class="el" href="attlist_8c.html#addce9ac5a0e5aa8f12997abcce56f210">VerifyList()</a>, and <a class="el" href="context__descriptor_8h.html#a5bd986c4098011fa3e58e5ece6ee29cea42ca17a157782b12d490bf19aef3ad3b">word_context</a>.</p>

<p class="reference">Referenced by <a class="el" href="ascii-print_8c.html#a3f72cfd61c5071c17a0364a2e9ae0076">ascii_print_concordance_line()</a>, <a class="el" href="html-print_8c.html#ac0bbd1b7d04b2844a3a2646a3491ffbb">html_print_output()</a>, <a class="el" href="latex-print_8c.html#a818d1804670f45406d57d0a3a2ca13c8">latex_print_output()</a>, <a class="el" href="print__align_8c.html#a33cf004304338743df469e7a43272a51">print_all_aligned_lines()</a>, and <a class="el" href="sgml-print_8c.html#a956120e8b1a0561acddf24ce74c8c26b">sgml_print_output()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_caf978792d6b0705158f044348baeba4.html">cqp</a></li><li class="navelem"><a class="el" href="concordance_8h.html">concordance.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
