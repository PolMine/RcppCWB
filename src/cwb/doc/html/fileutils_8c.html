<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CWB: cl/fileutils.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CWB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fileutils_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fileutils.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="globals_8h.html">globals.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fileutils_8h.html">fileutils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae2faa245776d4354c8018cceebb6d84f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#ae2faa245776d4354c8018cceebb6d84f">STREAM_IS_PIPE</a>(type)&#160;&#160;&#160;(type == <a class="el" href="cl_8h.html#a60b62df0d52770d05f779f03c802366a">CL_STREAM_PIPE</a> || type == <a class="el" href="cl_8h.html#a27379a7b5a0f0558726726fd2a1d9a22">CL_STREAM_GZIP</a> || type == <a class="el" href="cl_8h.html#a6fedcabfca46b875cfd5f9ff99d8c07b">CL_STREAM_BZIP2</a>)</td></tr>
<tr class="memdesc:ae2faa245776d4354c8018cceebb6d84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">check whether stream type involves a pipe  <a href="fileutils_8c.html#ae2faa245776d4354c8018cceebb6d84f">More...</a><br /></td></tr>
<tr class="separator:ae2faa245776d4354c8018cceebb6d84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2c12da91ca3bc84c8fe066451b33d098"><td class="memItemLeft" align="right" valign="top">off_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a2c12da91ca3bc84c8fe066451b33d098">file_length</a> (char *filename)</td></tr>
<tr class="memdesc:a2c12da91ca3bc84c8fe066451b33d098"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the specified file; returns EOF for error.  <a href="fileutils_8c.html#a2c12da91ca3bc84c8fe066451b33d098">More...</a><br /></td></tr>
<tr class="separator:a2c12da91ca3bc84c8fe066451b33d098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067545499cf3496d998194868117bd9b"><td class="memItemLeft" align="right" valign="top">off_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a067545499cf3496d998194868117bd9b">fh_file_length</a> (FILE *fh)</td></tr>
<tr class="memdesc:a067545499cf3496d998194868117bd9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the specified file; returns EOF for error.  <a href="fileutils_8c.html#a067545499cf3496d998194868117bd9b">More...</a><br /></td></tr>
<tr class="separator:a067545499cf3496d998194868117bd9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2aed30675154424ad79dbfc93cd9730"><td class="memItemLeft" align="right" valign="top">off_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#ad2aed30675154424ad79dbfc93cd9730">fd_file_length</a> (int fd)</td></tr>
<tr class="memdesc:ad2aed30675154424ad79dbfc93cd9730"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the specified file; returns EOF for error.  <a href="fileutils_8c.html#ad2aed30675154424ad79dbfc93cd9730">More...</a><br /></td></tr>
<tr class="separator:ad2aed30675154424ad79dbfc93cd9730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07770dcc42bc82960bae979c8e58c909"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a07770dcc42bc82960bae979c8e58c909">fprobe</a> (char *fname)</td></tr>
<tr class="memdesc:a07770dcc42bc82960bae979c8e58c909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size of the specified file; returns EOF for error.  <a href="fileutils_8c.html#a07770dcc42bc82960bae979c8e58c909">More...</a><br /></td></tr>
<tr class="separator:a07770dcc42bc82960bae979c8e58c909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#afc17c7f5a19c7e9a7e66df3bec4c7341">is_directory</a> (char *path)</td></tr>
<tr class="memdesc:afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the specified path indicates a directory.  <a href="fileutils_8c.html#afc17c7f5a19c7e9a7e66df3bec4c7341">More...</a><br /></td></tr>
<tr class="separator:afc17c7f5a19c7e9a7e66df3bec4c7341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6bc42840ec53d56d734378e8403099"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#abb6bc42840ec53d56d734378e8403099">is_file</a> (char *path)</td></tr>
<tr class="memdesc:abb6bc42840ec53d56d734378e8403099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the specified path indicates a regular file.  <a href="fileutils_8c.html#abb6bc42840ec53d56d734378e8403099">More...</a><br /></td></tr>
<tr class="separator:abb6bc42840ec53d56d734378e8403099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0f3f9840d10b4b9c23a8b13b32be69"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a2d0f3f9840d10b4b9c23a8b13b32be69">is_link</a> (char *path)</td></tr>
<tr class="memdesc:a2d0f3f9840d10b4b9c23a8b13b32be69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the specified path indicates a link.  <a href="fileutils_8c.html#a2d0f3f9840d10b4b9c23a8b13b32be69">More...</a><br /></td></tr>
<tr class="separator:a2d0f3f9840d10b4b9c23a8b13b32be69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e7cbe26bfe37b5c0be5a1951c953d6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a48e7cbe26bfe37b5c0be5a1951c953d6">cl_handle_sigpipe</a> (int signum)</td></tr>
<tr class="separator:a48e7cbe26bfe37b5c0be5a1951c953d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8e7ba8f44d274208dd3969d4f69552"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a5d8e7ba8f44d274208dd3969d4f69552">cl_open_stream</a> (const char *filename, int <a class="el" href="cwb-decode_8c.html#a0e683ae66015f10f972d6938197dbc5e">mode</a>, int type)</td></tr>
<tr class="memdesc:a5d8e7ba8f44d274208dd3969d4f69552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open stream of specified (or guessed) type for reading or writing.  <a href="fileutils_8c.html#a5d8e7ba8f44d274208dd3969d4f69552">More...</a><br /></td></tr>
<tr class="separator:a5d8e7ba8f44d274208dd3969d4f69552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1713952e6da245bced56f81ae3cc46"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#ada1713952e6da245bced56f81ae3cc46">cl_close_stream</a> (FILE *handle)</td></tr>
<tr class="memdesc:ada1713952e6da245bced56f81ae3cc46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close I/O stream.  <a href="fileutils_8c.html#ada1713952e6da245bced56f81ae3cc46">More...</a><br /></td></tr>
<tr class="separator:ada1713952e6da245bced56f81ae3cc46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c35012edf6c3ae6995ee8e6e8e3e37b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a4c35012edf6c3ae6995ee8e6e8e3e37b">cl_test_stream</a> (FILE *handle)</td></tr>
<tr class="memdesc:a4c35012edf6c3ae6995ee8e6e8e3e37b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests whether a file handle has been opened via cl_test_stream.  <a href="fileutils_8c.html#a4c35012edf6c3ae6995ee8e6e8e3e37b">More...</a><br /></td></tr>
<tr class="separator:a4c35012edf6c3ae6995ee8e6e8e3e37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af3845d5ed0fdc9729f6c2b7a72f918a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_l_stream.html">CLStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#af3845d5ed0fdc9729f6c2b7a72f918a0">open_streams</a></td></tr>
<tr class="memdesc:af3845d5ed0fdc9729f6c2b7a72f918a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of automagic I/O streams.  <a href="fileutils_8c.html#af3845d5ed0fdc9729f6c2b7a72f918a0">More...</a><br /></td></tr>
<tr class="separator:af3845d5ed0fdc9729f6c2b7a72f918a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410557e82295e3e7869411b363de4999"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fileutils_8c.html#a410557e82295e3e7869411b363de4999">cl_broken_pipe</a> = 0</td></tr>
<tr class="memdesc:a410557e82295e3e7869411b363de4999"><td class="mdescLeft">&#160;</td><td class="mdescRight">SIGPIPE handler and global status variable.  <a href="fileutils_8c.html#a410557e82295e3e7869411b363de4999">More...</a><br /></td></tr>
<tr class="separator:a410557e82295e3e7869411b363de4999"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae2faa245776d4354c8018cceebb6d84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2faa245776d4354c8018cceebb6d84f">&#9670;&nbsp;</a></span>STREAM_IS_PIPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STREAM_IS_PIPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type</td><td>)</td>
          <td>&#160;&#160;&#160;(type == <a class="el" href="cl_8h.html#a60b62df0d52770d05f779f03c802366a">CL_STREAM_PIPE</a> || type == <a class="el" href="cl_8h.html#a27379a7b5a0f0558726726fd2a1d9a22">CL_STREAM_GZIP</a> || type == <a class="el" href="cl_8h.html#a6fedcabfca46b875cfd5f9ff99d8c07b">CL_STREAM_BZIP2</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check whether stream type involves a pipe </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ada1713952e6da245bced56f81ae3cc46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1713952e6da245bced56f81ae3cc46">&#9670;&nbsp;</a></span>cl_close_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_close_stream </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close I/O stream. </p>
<p>This function can only be used for FILE* objects opened with <a class="el" href="fileutils_8c.html#a5d8e7ba8f44d274208dd3969d4f69552" title="Open stream of specified (or guessed) type for reading or writing.">cl_open_stream()</a>!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An I/O stream that has been opened with <a class="el" href="fileutils_8c.html#a5d8e7ba8f44d274208dd3969d4f69552" title="Open stream of specified (or guessed) type for reading or writing.">cl_open_stream()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, otherwise the error code returned by fclose() or pclose() </dd></dl>

<p class="reference">References <a class="el" href="cl_8h.html#a45ec05d36167d9c6e5074febf7f0ffd4">CDA_EATTTYPE</a>, <a class="el" href="cl_8h.html#a2caeeb74ec40ab16936ad3f7d2078895">CDA_EPOSIX</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="fileutils_8c.html#a410557e82295e3e7869411b363de4999">cl_broken_pipe</a>, <a class="el" href="cdaccess_8c.html#af97f2ad4a69c7d0105f9cee4a51b29b8">cl_errno</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cl_8h.html#a6fedcabfca46b875cfd5f9ff99d8c07b">CL_STREAM_BZIP2</a>, <a class="el" href="cl_8h.html#a2b48eb98948223caf852f4b89d1d6ab8">CL_STREAM_FILE</a>, <a class="el" href="cl_8h.html#a27379a7b5a0f0558726726fd2a1d9a22">CL_STREAM_GZIP</a>, <a class="el" href="cl_8h.html#a60b62df0d52770d05f779f03c802366a">CL_STREAM_PIPE</a>, <a class="el" href="cl_8h.html#abae2b7e2cf3145fa34c61deb15ecba8d">CL_STREAM_STDIO</a>, <a class="el" href="struct_c_l_stream.html#a5a54375a9c0e86dd67a90385655dd05b">CLStream::handle</a>, <a class="el" href="struct_c_l_stream.html#a5b58f1482b3f20d7fdec10b2c3856c84">CLStream::next</a>, <a class="el" href="fileutils_8c.html#af3845d5ed0fdc9729f6c2b7a72f918a0">open_streams</a>, <a class="el" href="fileutils_8c.html#ae2faa245776d4354c8018cceebb6d84f">STREAM_IS_PIPE</a>, and <a class="el" href="struct_c_l_stream.html#ac765329451135abec74c45e1897abf26">CLStream::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="parse__actions_8c.html#a654e3871f21cd25d69bcdad009b89609">addHistoryLine()</a>, <a class="el" href="cwb-align-show_8c.html#ad495abb4e431b3a82b92fac60727d8e4">alignshow_goodbye()</a>, <a class="el" href="corpmanag_8c.html#a5bd617c344c791d4cea751a4e043f2e3">attach_subcorpus()</a>, <a class="el" href="output_8c.html#ad90063ba0ec5de5cbb53735e8d9bab04">close_rd_input_stream()</a>, <a class="el" href="output_8c.html#ab1aceed8cad571bcc5f686cd0115ab44">close_rd_output_stream()</a>, <a class="el" href="output_8c.html#ac68b1c252026e89999641e0c010a5ad2">corpus_info()</a>, <a class="el" href="cqp_8c.html#a1ec7d9fb2be1c33944789d2eb94e1e91">cqp_parse_file()</a>, <a class="el" href="cwb-encode_8c.html#a4179bb576944f012092322c5f446b0a8">encode_get_input_line()</a>, <a class="el" href="cwb-lexdecode_8c.html#a4f72835b72ca0a3339538cc4496b6020">lexdecode_show()</a>, <a class="el" href="cwb-align-encode_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="output_8c.html#ab2b0e6247ec2bbb8195d97642e11d559">open_rd_input_stream()</a>, <a class="el" href="output_8c.html#a3066cb7f4506c98b53ea3c19a0d83810">open_rd_output_stream()</a>, <a class="el" href="corpmanag_8c.html#ae8901e96861c947b4fa68df2c2b423de">save_subcorpus()</a>, and <a class="el" href="variables_8c.html#ad541ad30b653b068f7765e12d59c66f3">SetVariableValue()</a>.</p>

</div>
</div>
<a id="a48e7cbe26bfe37b5c0be5a1951c953d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e7cbe26bfe37b5c0be5a1951c953d6">&#9670;&nbsp;</a></span>cl_handle_sigpipe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cl_handle_sigpipe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="fileutils_8c.html#a410557e82295e3e7869411b363de4999">cl_broken_pipe</a>.</p>

<p class="reference">Referenced by <a class="el" href="cl_8h.html#a5d8e7ba8f44d274208dd3969d4f69552">cl_open_stream()</a>.</p>

</div>
</div>
<a id="a5d8e7ba8f44d274208dd3969d4f69552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8e7ba8f44d274208dd3969d4f69552">&#9670;&nbsp;</a></span>cl_open_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* cl_open_stream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open stream of specified (or guessed) type for reading or writing. </p>
<p>I/O streams opened with this function must always be closed with <a class="el" href="fileutils_8c.html#ada1713952e6da245bced56f81ae3cc46" title="Close I/O stream.">cl_close_stream()</a>!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Filename or shell command </td></tr>
    <tr><td class="paramname">mode</td><td>Open for reading (CL_STREAM_READ) or writing (CL_STREAM_WRITE) </td></tr>
    <tr><td class="paramname">type</td><td>Type of stream (see above), or guess automagically from [filename] (CL_STREAM_MAGIC)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Standard C stream, or NULL on error (with details available via cl_errno or <a class="el" href="cdaccess_8c.html#ac0132825a090837c68bdfc59df00e0b8" title="Prints an error message, together with a string identifying the current error number.">cl_error()</a>) </dd></dl>

<p class="reference">References <a class="el" href="cl_8h.html#a63f8a4c0113361f0ced1bfd7e43e3a84">CDA_EACCESS</a>, <a class="el" href="cl_8h.html#a21237261bf475ae59404729ec2562913">CDA_EARGS</a>, <a class="el" href="cl_8h.html#a248a0b0ee797db59e9e6b6077c6a81ca">CDA_EBUFFER</a>, <a class="el" href="cl_8h.html#a2caeeb74ec40ab16936ad3f7d2078895">CDA_EPOSIX</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="fileutils_8c.html#a410557e82295e3e7869411b363de4999">cl_broken_pipe</a>, <a class="el" href="cdaccess_8c.html#af97f2ad4a69c7d0105f9cee4a51b29b8">cl_errno</a>, <a class="el" href="fileutils_8c.html#a48e7cbe26bfe37b5c0be5a1951c953d6">cl_handle_sigpipe()</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="cl_8h.html#abc567974ca6c4552afdce49ac6a4e454">CL_MAX_FILENAME_LENGTH</a>, <a class="el" href="cl_8h.html#a3fb682fcb75104871d6d25e991174ef5">cl_str_is</a>, <a class="el" href="cl_8h.html#ae5b3603e7f1e0883a5ba8924d776e2d1">CL_STREAM_APPEND</a>, <a class="el" href="cl_8h.html#a30bd4b836ed62b7fc9f7718db020f679">CL_STREAM_APPEND_BIN</a>, <a class="el" href="cl_8h.html#a6fedcabfca46b875cfd5f9ff99d8c07b">CL_STREAM_BZIP2</a>, <a class="el" href="cl_8h.html#a2b48eb98948223caf852f4b89d1d6ab8">CL_STREAM_FILE</a>, <a class="el" href="cl_8h.html#a27379a7b5a0f0558726726fd2a1d9a22">CL_STREAM_GZIP</a>, <a class="el" href="cl_8h.html#aac6216e81869c2ded10348322df75704">CL_STREAM_MAGIC</a>, <a class="el" href="cl_8h.html#abac163c8a9a9b327e6eda1e93b54db94">CL_STREAM_MAGIC_NOPIPE</a>, <a class="el" href="cl_8h.html#a60b62df0d52770d05f779f03c802366a">CL_STREAM_PIPE</a>, <a class="el" href="cl_8h.html#ac1cd6635852f8163359a55d528e05384">CL_STREAM_READ</a>, <a class="el" href="cl_8h.html#a76059a404037ec00fa948dd5a4e065e6">CL_STREAM_READ_BIN</a>, <a class="el" href="cl_8h.html#abae2b7e2cf3145fa34c61deb15ecba8d">CL_STREAM_STDIO</a>, <a class="el" href="cl_8h.html#a9f2cd5732dc1f1f67fb04204ca6312a8">CL_STREAM_WRITE</a>, <a class="el" href="cl_8h.html#a0d0ad8ada61f4f16a14696d58ea7a928">CL_STREAM_WRITE_BIN</a>, <a class="el" href="struct_c_l_stream.html#a5a54375a9c0e86dd67a90385655dd05b">CLStream::handle</a>, <a class="el" href="struct_c_l_stream.html#a1ea5d0cb93f22f7d0fdf804bd68c3326">CLStream::mode</a>, <a class="el" href="cwb-decode_8c.html#a0e683ae66015f10f972d6938197dbc5e">mode</a>, <a class="el" href="struct_c_l_stream.html#a5b58f1482b3f20d7fdec10b2c3856c84">CLStream::next</a>, <a class="el" href="fileutils_8c.html#af3845d5ed0fdc9729f6c2b7a72f918a0">open_streams</a>, <a class="el" href="fileutils_8c.html#ae2faa245776d4354c8018cceebb6d84f">STREAM_IS_PIPE</a>, and <a class="el" href="struct_c_l_stream.html#ac765329451135abec74c45e1897abf26">CLStream::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="parse__actions_8c.html#a654e3871f21cd25d69bcdad009b89609">addHistoryLine()</a>, <a class="el" href="corpmanag_8c.html#a5bd617c344c791d4cea751a4e043f2e3">attach_subcorpus()</a>, <a class="el" href="output_8c.html#ac68b1c252026e89999641e0c010a5ad2">corpus_info()</a>, <a class="el" href="parse__actions_8c.html#a2363fefd627b915196f40595618e521b">do_exec()</a>, <a class="el" href="cwb-encode_8c.html#a4179bb576944f012092322c5f446b0a8">encode_get_input_line()</a>, <a class="el" href="cwb-lexdecode_8c.html#a4f72835b72ca0a3339538cc4496b6020">lexdecode_show()</a>, <a class="el" href="cwb-align-encode_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="output_8c.html#aae8694f9a2a52053f1336b020c430eec">open_pager()</a>, <a class="el" href="output_8c.html#ab2b0e6247ec2bbb8195d97642e11d559">open_rd_input_stream()</a>, <a class="el" href="output_8c.html#a3066cb7f4506c98b53ea3c19a0d83810">open_rd_output_stream()</a>, <a class="el" href="options_8c.html#a3b63ff1af997333f51cad78bf921732a">parse_options()</a>, <a class="el" href="corpmanag_8c.html#ae8901e96861c947b4fa68df2c2b423de">save_subcorpus()</a>, <a class="el" href="cwb-s-encode_8c.html#af03b28b7de6e87eb57fedd7aae5d8a5b">sencode_parse_options()</a>, and <a class="el" href="variables_8c.html#ad541ad30b653b068f7765e12d59c66f3">SetVariableValue()</a>.</p>

</div>
</div>
<a id="a4c35012edf6c3ae6995ee8e6e8e3e37b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c35012edf6c3ae6995ee8e6e8e3e37b">&#9670;&nbsp;</a></span>cl_test_stream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_test_stream </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests whether a file handle has been opened via cl_test_stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The FILE pointer to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean. True iff the "cl_stream" knows about this handle. </dd></dl>

<p class="reference">References <a class="el" href="struct_c_l_stream.html#a5a54375a9c0e86dd67a90385655dd05b">CLStream::handle</a>, <a class="el" href="struct_c_l_stream.html#a5b58f1482b3f20d7fdec10b2c3856c84">CLStream::next</a>, and <a class="el" href="fileutils_8c.html#af3845d5ed0fdc9729f6c2b7a72f918a0">open_streams</a>.</p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#a1ec7d9fb2be1c33944789d2eb94e1e91">cqp_parse_file()</a>.</p>

</div>
</div>
<a id="ad2aed30675154424ad79dbfc93cd9730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2aed30675154424ad79dbfc93cd9730">&#9670;&nbsp;</a></span>fd_file_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">off_t fd_file_length </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the specified file; returns EOF for error. </p>
<p>As file_length, but the file is specified by number, not name.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="fileutils_8c.html#a2c12da91ca3bc84c8fe066451b33d098" title="Gets the size of the specified file; returns EOF for error.">file_length</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file to size up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of file in bytes. </dd></dl>

</div>
</div>
<a id="a067545499cf3496d998194868117bd9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a067545499cf3496d998194868117bd9b">&#9670;&nbsp;</a></span>fh_file_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">off_t fh_file_length </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the specified file; returns EOF for error. </p>
<p>As file_length, but the file is specified by file handle, not name.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="fileutils_8c.html#a2c12da91ca3bc84c8fe066451b33d098" title="Gets the size of the specified file; returns EOF for error.">file_length</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fh</td><td>The file to size up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of file in bytes. </dd></dl>

</div>
</div>
<a id="a2c12da91ca3bc84c8fe066451b33d098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c12da91ca3bc84c8fe066451b33d098">&#9670;&nbsp;</a></span>file_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">off_t file_length </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the specified file; returns EOF for error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The file to size up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of file in bytes (or EOF if call to stat() failed) </dd></dl>

<p class="reference">Referenced by <a class="el" href="corpmanag_8c.html#a5bd617c344c791d4cea751a4e043f2e3">attach_subcorpus()</a>, and <a class="el" href="attributes_8c.html#adcf344dc6bdce8c284763609545c9497">work_out_component_state()</a>.</p>

</div>
</div>
<a id="a07770dcc42bc82960bae979c8e58c909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07770dcc42bc82960bae979c8e58c909">&#9670;&nbsp;</a></span>fprobe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long fprobe </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the size of the specified file; returns EOF for error. </p>
<p>Duplicates functionality of file_length, but return is long instead of off_t.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="fileutils_8c.html#a2c12da91ca3bc84c8fe066451b33d098" title="Gets the size of the specified file; returns EOF for error.">file_length</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>The file to size up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of file in bytes. </dd></dl>

</div>
</div>
<a id="afc17c7f5a19c7e9a7e66df3bec4c7341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc17c7f5a19c7e9a7e66df3bec4c7341">&#9670;&nbsp;</a></span>is_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_directory </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the specified path indicates a directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean. (Also false if there's an error.) </dd></dl>

<p class="reference">Referenced by <a class="el" href="cwb-makeall_8c.html#a9e4e36549541e011dcdc77bd58c096b5">makeall_do_attribute()</a>.</p>

</div>
</div>
<a id="abb6bc42840ec53d56d734378e8403099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6bc42840ec53d56d734378e8403099">&#9670;&nbsp;</a></span>is_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the specified path indicates a regular file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean. (Also false if there's an error.) </dd></dl>

</div>
</div>
<a id="a2d0f3f9840d10b4b9c23a8b13b32be69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d0f3f9840d10b4b9c23a8b13b32be69">&#9670;&nbsp;</a></span>is_link()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_link </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the specified path indicates a link. </p>
<p>Note this function always returns false in Windows, because Windows doesn't have Unix-style links. (.lnk files don't count.)</p>
<p>As of 2020: Windows 10 does have symlinks. They were added in Vista but required elevated permissions to work with. Windows 10 makes it possible to use symlinks without elevated permissions (but it might be necessary to dop some configuration twiddling to get that to work; it's not 100% clear). Even so, though, it's not clear whether stat() in MinGW will correctly report what is and is not a symlink.</p>
<p>See <a href="https://blogs.windows.com/windowsdeveloper/2016/12/02/symlinks-windows-10/">https://blogs.windows.com/windowsdeveloper/2016/12/02/symlinks-windows-10/</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean. (Also false if there's an error.) </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a410557e82295e3e7869411b363de4999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410557e82295e3e7869411b363de4999">&#9670;&nbsp;</a></span>cl_broken_pipe</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_broken_pipe = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SIGPIPE handler and global status variable. </p>
<p>This variable will be set to True if a SIGPIPE has been caught and ignored. </p>

<p class="reference">Referenced by <a class="el" href="ascii-print_8c.html#a0f9646a1caed7b273ad58042f5016e2c">ascii_print_group()</a>, <a class="el" href="ascii-print_8c.html#aa9c9497082fd68b80df1028490f845f7">ascii_print_output()</a>, <a class="el" href="cl_8h.html#ada1713952e6da245bced56f81ae3cc46">cl_close_stream()</a>, <a class="el" href="fileutils_8c.html#a48e7cbe26bfe37b5c0be5a1951c953d6">cl_handle_sigpipe()</a>, <a class="el" href="cl_8h.html#a5d8e7ba8f44d274208dd3969d4f69552">cl_open_stream()</a>, <a class="el" href="parse__actions_8c.html#ab92afbe1616de2e874e1256926529cc1">do_dump()</a>, <a class="el" href="html-print_8c.html#a463bd51b9852b8d7a1af54f4cdde8137">html_print_group()</a>, <a class="el" href="html-print_8c.html#ac0bbd1b7d04b2844a3a2646a3491ffbb">html_print_output()</a>, <a class="el" href="latex-print_8c.html#afbfa3a677bf1c580247a37288f997fb8">latex_print_group()</a>, <a class="el" href="latex-print_8c.html#a818d1804670f45406d57d0a3a2ca13c8">latex_print_output()</a>, <a class="el" href="output_8c.html#ae4129b3d641ceabf75299531ede00317">print_tabulation()</a>, <a class="el" href="sgml-print_8c.html#ad0c4c5f0d52e240cd9e759eb6ac75806">sgml_print_group()</a>, <a class="el" href="sgml-print_8c.html#a956120e8b1a0561acddf24ce74c8c26b">sgml_print_output()</a>, and <a class="el" href="ranges_8c.html#aaf5f006cef0ac7c1fdb5c9d55558c11a">SortSubcorpus()</a>.</p>

</div>
</div>
<a id="af3845d5ed0fdc9729f6c2b7a72f918a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3845d5ed0fdc9729f6c2b7a72f918a0">&#9670;&nbsp;</a></span>open_streams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_l_stream.html">CLStream</a> open_streams</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of automagic I/O streams. </p>
<p>In order to make streams completely transparent to the caller and return them as standard FILE* objects, the CL keeps a list of all open streams with the necessary metadata information. </p>

<p class="reference">Referenced by <a class="el" href="cl_8h.html#ada1713952e6da245bced56f81ae3cc46">cl_close_stream()</a>, <a class="el" href="cl_8h.html#a5d8e7ba8f44d274208dd3969d4f69552">cl_open_stream()</a>, and <a class="el" href="cl_8h.html#a4c35012edf6c3ae6995ee8e6e8e3e37b">cl_test_stream()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0b9712b4d566c131b10613af70a8e558.html">cl</a></li><li class="navelem"><a class="el" href="fileutils_8c.html">fileutils.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
