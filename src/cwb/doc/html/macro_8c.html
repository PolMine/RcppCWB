<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CWB: cqp/macro.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CWB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('macro_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">macro.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="cl_8h.html">../cl/cl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ui-helpers_8h.html">../cl/ui-helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macro_8h.html">macro.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="options_8h.html">options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="output_8h.html">output.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cqp_8h.html">cqp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eval_8h.html">eval.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ranges_8h.html">ranges.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="targets_8h.html">targets.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="corpmanag_8h.html">corpmanag.h</a>&quot;</code><br />
<code>#include &quot;parser.tab.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_input_buffer.html">InputBuffer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer which stores input strings while parsing a macro.  <a href="struct_input_buffer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___macro_segment.html">_MacroSegment</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The macro replacement string is stored as a sequence of segments:  <a href="struct___macro_segment.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___macro_entry.html">_MacroEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in the macro database.  <a href="struct___macro_entry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_macro_hash_table.html">MacroHashTable</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="struct_macro_hash_table.html" title="The MacroHashTable is the type of the object which stores the macro database.">MacroHashTable</a> is the type of the object which stores the macro database.  <a href="struct_macro_hash_table.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1ff84e85833bd3ab041c539d93314f0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a1ff84e85833bd3ab041c539d93314f0f">MACRO_HASH_BUCKETS</a>&#160;&#160;&#160;8000</td></tr>
<tr class="separator:a1ff84e85833bd3ab041c539d93314f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada9bbc8f8100871aac016146396d7e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:aada9bbc8f8100871aac016146396d7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd82d7eeda5c751ea31e29ce9540471"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#adcd82d7eeda5c751ea31e29ce9540471">hash_macro</a>(macro_name,  n_args)&#160;&#160;&#160;<a class="el" href="lexhash_8c.html#a8e4af3632ab948739d1693cb307832ce">cl_hash_string_with_init</a>(macro_name, n_args)</td></tr>
<tr class="memdesc:adcd82d7eeda5c751ea31e29ce9540471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a 32 bit hash value of a CQP macro (using both the macro name and its number of arguments, so that two macros with the same name but different parameter signatures will not hash the same).  <a href="macro_8c.html#adcd82d7eeda5c751ea31e29ce9540471">More...</a><br /></td></tr>
<tr class="separator:adcd82d7eeda5c751ea31e29ce9540471"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a815d704b3d3bd0dd7988d2316138b1f4"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___macro_segment.html">_MacroSegment</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a815d704b3d3bd0dd7988d2316138b1f4">MacroSegment</a></td></tr>
<tr class="memdesc:a815d704b3d3bd0dd7988d2316138b1f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The macro replacement string is stored as a sequence of segments:  <a href="macro_8c.html#a815d704b3d3bd0dd7988d2316138b1f4">More...</a><br /></td></tr>
<tr class="separator:a815d704b3d3bd0dd7988d2316138b1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fee609f5ac8fabca5c305bf716a2169"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___macro_entry.html">_MacroEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a></td></tr>
<tr class="memdesc:a3fee609f5ac8fabca5c305bf716a2169"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in the macro database.  <a href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">More...</a><br /></td></tr>
<tr class="separator:a3fee609f5ac8fabca5c305bf716a2169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045b210039c46b82e93d8e9a313710ea"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_macro_hash_table.html">MacroHashTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a045b210039c46b82e93d8e9a313710ea">MacroHashTable</a></td></tr>
<tr class="memdesc:a045b210039c46b82e93d8e9a313710ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="struct_macro_hash_table.html" title="The MacroHashTable is the type of the object which stores the macro database.">MacroHashTable</a> is the type of the object which stores the macro database.  <a href="macro_8c.html#a045b210039c46b82e93d8e9a313710ea">More...</a><br /></td></tr>
<tr class="separator:a045b210039c46b82e93d8e9a313710ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9a7bd1b3d14701eb97c03f3ef34deff1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a9a7bd1b3d14701eb97c03f3ef34deff1">yylex</a> (void)</td></tr>
<tr class="memdesc:a9a7bd1b3d14701eb97c03f3ef34deff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">flex caller function  <a href="macro_8c.html#a9a7bd1b3d14701eb97c03f3ef34deff1">More...</a><br /></td></tr>
<tr class="separator:a9a7bd1b3d14701eb97c03f3ef34deff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383885141745dddffadd73e831fc1db7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a383885141745dddffadd73e831fc1db7">macro_debug_newline_indent</a> (void)</td></tr>
<tr class="memdesc:a383885141745dddffadd73e831fc1db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">indent macro expansion debugging output (according to number of active input buffers)  <a href="macro_8c.html#a383885141745dddffadd73e831fc1db7">More...</a><br /></td></tr>
<tr class="separator:a383885141745dddffadd73e831fc1db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fed303e59be2b2a8f03c38721ce26a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_input_buffer.html">InputBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a5fed303e59be2b2a8f03c38721ce26a5">PushInputBuffer</a> (int size)</td></tr>
<tr class="memdesc:a5fed303e59be2b2a8f03c38721ce26a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">push new input buffer (which can hold string of length [size]) onto the top of buffer list  <a href="macro_8c.html#a5fed303e59be2b2a8f03c38721ce26a5">More...</a><br /></td></tr>
<tr class="separator:a5fed303e59be2b2a8f03c38721ce26a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fa2e5cd4b38772e5eb2cce79c4355a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ab4fa2e5cd4b38772e5eb2cce79c4355a">PopInputBuffer</a> (void)</td></tr>
<tr class="memdesc:ab4fa2e5cd4b38772e5eb2cce79c4355a"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete input buffer from top of list  <a href="macro_8c.html#ab4fa2e5cd4b38772e5eb2cce79c4355a">More...</a><br /></td></tr>
<tr class="separator:ab4fa2e5cd4b38772e5eb2cce79c4355a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea3775e0459120ac316c8f0d7a01665"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a6ea3775e0459120ac316c8f0d7a01665">InitialiseMacroHash</a> (int size)</td></tr>
<tr class="memdesc:a6ea3775e0459120ac316c8f0d7a01665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the global macro hash; see <a class="el" href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97" title="Initialises the macro database: creates the storage hash and defines built-in macros.">init_macros()</a> for how it's used.  <a href="macro_8c.html#a6ea3775e0459120ac316c8f0d7a01665">More...</a><br /></td></tr>
<tr class="separator:a6ea3775e0459120ac316c8f0d7a01665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcbeaca994ae5aed23265c92054c5670"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">MacroHashLookup</a> (const char *str, int args)</td></tr>
<tr class="memdesc:afcbeaca994ae5aed23265c92054c5670"><td class="mdescLeft">&#160;</td><td class="mdescRight">find hash entry; returns MacroEntry or NULL if not in hash  <a href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">More...</a><br /></td></tr>
<tr class="separator:afcbeaca994ae5aed23265c92054c5670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bb6e70ecdad1a0f3b5675cc11f7c8b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#af8bb6e70ecdad1a0f3b5675cc11f7c8b">MacroHashAdd</a> (const char *str, int n_args)</td></tr>
<tr class="memdesc:af8bb6e70ecdad1a0f3b5675cc11f7c8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a macro to the hash.  <a href="macro_8c.html#af8bb6e70ecdad1a0f3b5675cc11f7c8b">More...</a><br /></td></tr>
<tr class="separator:af8bb6e70ecdad1a0f3b5675cc11f7c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1004b95934708be824fed5928143a57"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#aa1004b95934708be824fed5928143a57">FreeMacroEntry</a> (<a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> macro)</td></tr>
<tr class="memdesc:aa1004b95934708be824fed5928143a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">release memory from a MacroEntry object.  <a href="macro_8c.html#aa1004b95934708be824fed5928143a57">More...</a><br /></td></tr>
<tr class="separator:aa1004b95934708be824fed5928143a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8208e5d12bbef934964e2794902688"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a6f8208e5d12bbef934964e2794902688">MacroHashDelete</a> (<a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> macro)</td></tr>
<tr class="memdesc:a6f8208e5d12bbef934964e2794902688"><td class="mdescLeft">&#160;</td><td class="mdescRight">remove macro from hash ...  <a href="macro_8c.html#a6f8208e5d12bbef934964e2794902688">More...</a><br /></td></tr>
<tr class="separator:a6f8208e5d12bbef934964e2794902688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56111f442e499073843184220872286d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="macro_8c.html#a815d704b3d3bd0dd7988d2316138b1f4">MacroSegment</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a56111f442e499073843184220872286d">MacroAddSegment</a> (<a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> macro)</td></tr>
<tr class="memdesc:a56111f442e499073843184220872286d"><td class="mdescLeft">&#160;</td><td class="mdescRight">append segment to macro replacement string, returns pointer to the new, initialised segment  <a href="macro_8c.html#a56111f442e499073843184220872286d">More...</a><br /></td></tr>
<tr class="separator:a56111f442e499073843184220872286d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ff9eb9b38042da7ebaffa9f379a6d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">yy_input_char</a> (void)</td></tr>
<tr class="memdesc:a01ff9eb9b38042da7ebaffa9f379a6d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a character for the lexer/parser.  <a href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">More...</a><br /></td></tr>
<tr class="separator:a01ff9eb9b38042da7ebaffa9f379a6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c1888ead3a4dd40dff9eb80c4d7c97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97">init_macros</a> (void)</td></tr>
<tr class="memdesc:a46c1888ead3a4dd40dff9eb80c4d7c97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the macro database: creates the storage hash and defines built-in macros.  <a href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97">More...</a><br /></td></tr>
<tr class="separator:a46c1888ead3a4dd40dff9eb80c4d7c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3ed2aa036c78f4e998a5d1ce6dcd70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#abf3ed2aa036c78f4e998a5d1ce6dcd70">drop_macros</a> (void)</td></tr>
<tr class="memdesc:abf3ed2aa036c78f4e998a5d1ce6dcd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup the macro database.  <a href="macro_8c.html#abf3ed2aa036c78f4e998a5d1ce6dcd70">More...</a><br /></td></tr>
<tr class="separator:abf3ed2aa036c78f4e998a5d1ce6dcd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa0cb3c9d8ba912f93e1e081875d7ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro</a> (const char *name)</td></tr>
<tr class="memdesc:a8fa0cb3c9d8ba912f93e1e081875d7ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand a macro.  <a href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">More...</a><br /></td></tr>
<tr class="separator:a8fa0cb3c9d8ba912f93e1e081875d7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ffc5550ac962623c60d11b50b8e7e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro</a> (char *name, int n_args, char *argstr, char *definition)</td></tr>
<tr class="memdesc:a40ffc5550ac962623c60d11b50b8e7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a new macro.  <a href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">More...</a><br /></td></tr>
<tr class="separator:a40ffc5550ac962623c60d11b50b8e7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff0ed35d529efe88fb569ebb683d8d3"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#abff0ed35d529efe88fb569ebb683d8d3">preprocess_input_line</a> (char *<a class="el" href="cwb-merge_8c.html#aeb77f973d98c14fe8b0c7426404a5c11">line</a>)</td></tr>
<tr class="memdesc:abff0ed35d529efe88fb569ebb683d8d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal function for <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63" title="Loads the content of a macro definition file and creates the macros therein.">load_macro_file()</a>: remove whitespace &amp; comments from input line  <a href="macro_8c.html#abff0ed35d529efe88fb569ebb683d8d3">More...</a><br /></td></tr>
<tr class="separator:abff0ed35d529efe88fb569ebb683d8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cd5b31ff26ec3cd22928e6e3020978"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ae1cd5b31ff26ec3cd22928e6e3020978">parse_macro_name</a> (char *text, int *nr_of_args, char **prototype)</td></tr>
<tr class="memdesc:ae1cd5b31ff26ec3cd22928e6e3020978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function for <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63" title="Loads the content of a macro definition file and creates the macros therein.">load_macro_file()</a>: parse macro name &amp; number of arguments.  <a href="macro_8c.html#ae1cd5b31ff26ec3cd22928e6e3020978">More...</a><br /></td></tr>
<tr class="separator:ae1cd5b31ff26ec3cd22928e6e3020978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceec8fb36c914644e03f35913ee98c63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63">load_macro_file</a> (const char *filename)</td></tr>
<tr class="memdesc:aceec8fb36c914644e03f35913ee98c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the content of a macro definition file and creates the macros therein.  <a href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63">More...</a><br /></td></tr>
<tr class="separator:aceec8fb36c914644e03f35913ee98c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20609770576af56b3e76f794a708c0d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a20609770576af56b3e76f794a708c0d6">delete_macro_buffers</a> (int trace)</td></tr>
<tr class="memdesc:a20609770576af56b3e76f794a708c0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete active macro input buffers created by macro expansion.  <a href="macro_8c.html#a20609770576af56b3e76f794a708c0d6">More...</a><br /></td></tr>
<tr class="separator:a20609770576af56b3e76f794a708c0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f92868a78fce21b5d1363099e43b14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14">macro_iterator_reset</a> (void)</td></tr>
<tr class="memdesc:ac2f92868a78fce21b5d1363099e43b14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise, or reset, the macro database iterator, by setting the tracking variables to the beginning of the database table.  <a href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14">More...</a><br /></td></tr>
<tr class="separator:ac2f92868a78fce21b5d1363099e43b14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab714186f435af0452f62f6d0b410799a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">macro_iterator_seek</a> (const char *prefix)</td></tr>
<tr class="memdesc:ab714186f435af0452f62f6d0b410799a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal iterator function used by macro_iterator_next() and <a class="el" href="macro_8c.html#af71b888f91866cb980e41848a41a3f9c" title="Get the next macro from the iterator (returned as formatted prototype in a string).">macro_iterator_next_prototype()</a>.  <a href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">More...</a><br /></td></tr>
<tr class="separator:ab714186f435af0452f62f6d0b410799a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71b888f91866cb980e41848a41a3f9c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#af71b888f91866cb980e41848a41a3f9c">macro_iterator_next_prototype</a> (const char *prefix)</td></tr>
<tr class="memdesc:af71b888f91866cb980e41848a41a3f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the next macro from the iterator (returned as formatted prototype in a string).  <a href="macro_8c.html#af71b888f91866cb980e41848a41a3f9c">More...</a><br /></td></tr>
<tr class="separator:af71b888f91866cb980e41848a41a3f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5469149a69e323e2d965f7bcfce934d5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a5469149a69e323e2d965f7bcfce934d5">list_macros_sort</a> (const void *p1, const void *p2)</td></tr>
<tr class="memdesc:a5469149a69e323e2d965f7bcfce934d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">internal function comparing two macros to get their sort order for qsort()  <a href="macro_8c.html#a5469149a69e323e2d965f7bcfce934d5">More...</a><br /></td></tr>
<tr class="separator:a5469149a69e323e2d965f7bcfce934d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214b62018828d8fab1715ab4ce8cfeca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a214b62018828d8fab1715ab4ce8cfeca">list_macros</a> (const char *prefix)</td></tr>
<tr class="memdesc:a214b62018828d8fab1715ab4ce8cfeca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a list of all defined macros to stdout.  <a href="macro_8c.html#a214b62018828d8fab1715ab4ce8cfeca">More...</a><br /></td></tr>
<tr class="separator:a214b62018828d8fab1715ab4ce8cfeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044a231e459da3a43f7672c96dd73771"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a044a231e459da3a43f7672c96dd73771">print_macro_definition</a> (const char *name, const int n_args)</td></tr>
<tr class="memdesc:a044a231e459da3a43f7672c96dd73771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the definition of a given macro on stdout.  <a href="macro_8c.html#a044a231e459da3a43f7672c96dd73771">More...</a><br /></td></tr>
<tr class="separator:a044a231e459da3a43f7672c96dd73771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85802d14f3195882d3e1be796d722fd0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a85802d14f3195882d3e1be796d722fd0">macro_statistics</a> (void)</td></tr>
<tr class="memdesc:a85802d14f3195882d3e1be796d722fd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints macro hash statistics on stderr.  <a href="macro_8c.html#a85802d14f3195882d3e1be796d722fd0">More...</a><br /></td></tr>
<tr class="separator:a85802d14f3195882d3e1be796d722fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a46af646807e0797e72b6e8945e7ea88b"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a46af646807e0797e72b6e8945e7ea88b">yyin</a></td></tr>
<tr class="memdesc:a46af646807e0797e72b6e8945e7ea88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">flex input when parsing file  <a href="macro_8c.html#a46af646807e0797e72b6e8945e7ea88b">More...</a><br /></td></tr>
<tr class="separator:a46af646807e0797e72b6e8945e7ea88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9264b77d56b6971f29739e2bda77f51"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ad9264b77d56b6971f29739e2bda77f51">yytext</a></td></tr>
<tr class="separator:ad9264b77d56b6971f29739e2bda77f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae685ce5893cca50a3d34c96da3fed907"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_input_buffer.html">InputBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a> = NULL</td></tr>
<tr class="memdesc:ae685ce5893cca50a3d34c96da3fed907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Head of linked list of active input buffers (for the macro system).  <a href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">More...</a><br /></td></tr>
<tr class="separator:ae685ce5893cca50a3d34c96da3fed907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accee2e538fd6ce95f96066a3028d7dc4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_macro_hash_table.html">MacroHashTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a> = NULL</td></tr>
<tr class="memdesc:accee2e538fd6ce95f96066a3028d7dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global macro database.  <a href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">More...</a><br /></td></tr>
<tr class="separator:accee2e538fd6ce95f96066a3028d7dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc6f40b13606d7b2c742fbe1c57f759"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a7fc6f40b13606d7b2c742fbe1c57f759">macro_arg</a> [<a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>] = {NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL}</td></tr>
<tr class="memdesc:a7fc6f40b13606d7b2c742fbe1c57f759"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro args are stored in a global array so we can always free() the memory  <a href="macro_8c.html#a7fc6f40b13606d7b2c742fbe1c57f759">More...</a><br /></td></tr>
<tr class="separator:a7fc6f40b13606d7b2c742fbe1c57f759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f498387be877df02325a013b67840f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#ad1f498387be877df02325a013b67840f">pseudo_arg_counter</a> = 0</td></tr>
<tr class="memdesc:ad1f498387be877df02325a013b67840f"><td class="mdescLeft">&#160;</td><td class="mdescRight">unique number for pseudo argument in each macro call  <a href="macro_8c.html#ad1f498387be877df02325a013b67840f">More...</a><br /></td></tr>
<tr class="separator:ad1f498387be877df02325a013b67840f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63f983f3dcf52707eed5f88c66152771"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#a63f983f3dcf52707eed5f88c66152771">iterator_bucket</a> = -1</td></tr>
<tr class="memdesc:a63f983f3dcf52707eed5f88c66152771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current bucket in the macro iterator.  <a href="macro_8c.html#a63f983f3dcf52707eed5f88c66152771">More...</a><br /></td></tr>
<tr class="separator:a63f983f3dcf52707eed5f88c66152771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5707675db10c3235ef39a9ecd130b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="macro_8c.html#adb5707675db10c3235ef39a9ecd130b0">iterator_entry</a> = NULL</td></tr>
<tr class="memdesc:adb5707675db10c3235ef39a9ecd130b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current entry in the current bucket of the macro iterator (on iterator increment, if NULL, go to next bucket).  <a href="macro_8c.html#adb5707675db10c3235ef39a9ecd130b0">More...</a><br /></td></tr>
<tr class="separator:adb5707675db10c3235ef39a9ecd130b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="adcd82d7eeda5c751ea31e29ce9540471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd82d7eeda5c751ea31e29ce9540471">&#9670;&nbsp;</a></span>hash_macro</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hash_macro</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">macro_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n_args&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="lexhash_8c.html#a8e4af3632ab948739d1693cb307832ce">cl_hash_string_with_init</a>(macro_name, n_args)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a 32 bit hash value of a CQP macro (using both the macro name and its number of arguments, so that two macros with the same name but different parameter signatures will not hash the same). </p>

</div>
</div>
<a id="a1ff84e85833bd3ab041c539d93314f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff84e85833bd3ab041c539d93314f0f">&#9670;&nbsp;</a></span>MACRO_HASH_BUCKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MACRO_HASH_BUCKETS&#160;&#160;&#160;8000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aada9bbc8f8100871aac016146396d7e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada9bbc8f8100871aac016146396d7e5">&#9670;&nbsp;</a></span>MACRO_MAX_ARGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MACRO_MAX_ARGS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3fee609f5ac8fabca5c305bf716a2169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fee609f5ac8fabca5c305bf716a2169">&#9670;&nbsp;</a></span>MacroEntry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___macro_entry.html">_MacroEntry</a> * <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An entry in the macro database. </p>

</div>
</div>
<a id="a045b210039c46b82e93d8e9a313710ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045b210039c46b82e93d8e9a313710ea">&#9670;&nbsp;</a></span>MacroHashTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_macro_hash_table.html">MacroHashTable</a> * <a class="el" href="struct_macro_hash_table.html">MacroHashTable</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="struct_macro_hash_table.html" title="The MacroHashTable is the type of the object which stores the macro database.">MacroHashTable</a> is the type of the object which stores the macro database. </p>
<p>This hash implementation can hold multiple macro entries in a single bucket in order to avoid cache overflow when <em>very</em> many macros are defined. Since we don't need to store any other information in the buckets, a bucket is simply a pointer to a list of macro entries, i.e. a MacroEntry.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4" title="Global macro database.">MacroHash</a> </dd></dl>

</div>
</div>
<a id="a815d704b3d3bd0dd7988d2316138b1f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815d704b3d3bd0dd7988d2316138b1f4">&#9670;&nbsp;</a></span>MacroSegment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___macro_segment.html">_MacroSegment</a> * <a class="el" href="macro_8c.html#a815d704b3d3bd0dd7988d2316138b1f4">MacroSegment</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The macro replacement string is stored as a sequence of segments: </p>
<p>literal text ... string = "...", arg = -1 argument ... string = NULL, arg = 0 .. 9 pseudo arg ... string = NULL, arg = -1</p>
<p>A linked list of these defines the macro's replacement. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a40ffc5550ac962623c60d11b50b8e7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ffc5550ac962623c60d11b50b8e7e3">&#9670;&nbsp;</a></span>define_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int define_macro </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>definition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a new macro. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>macro name </td></tr>
    <tr><td class="paramname">n_args</td><td># of arguments (0 .. 9); alternatively, specify argstr. </td></tr>
    <tr><td class="paramname">argstr</td><td>macro argument string (e.g. `&lsquo;$0=name $1=label&rsquo;') (pass NULL to use args) </td></tr>
    <tr><td class="paramname">definition</td><td>The macro definition ... this string is substituted for /<a href="...">name</a>; $0 .. $9 refer to the macro's arguments and CANNOT be escaped </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean: true if macro definition was successful, false on syntax error. </dd></dl>

<p class="reference">References <a class="el" href="struct___macro_segment.html#af09bff4320de23f28f0d261c3b124d6b">_MacroSegment::arg</a>, <a class="el" href="struct___macro_entry.html#a9d102c55be823407140fd98bc0bbe310">_MacroEntry::argnames</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>, <a class="el" href="macro_8c.html#a56111f442e499073843184220872286d">MacroAddSegment()</a>, <a class="el" href="macro_8c.html#af8bb6e70ecdad1a0f3b5675cc11f7c8b">MacroHashAdd()</a>, <a class="el" href="macro_8c.html#a6f8208e5d12bbef934964e2794902688">MacroHashDelete()</a>, <a class="el" href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">MacroHashLookup()</a>, <a class="el" href="options_8c.html#a582e2ef9670c974c00e00ad10af0e629">silent</a>, and <a class="el" href="struct___macro_segment.html#aed1cfb225a5fb77461e7972691e68a72">_MacroSegment::string</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97">init_macros()</a>, and <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63">load_macro_file()</a>.</p>

</div>
</div>
<a id="a20609770576af56b3e76f794a708c0d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20609770576af56b3e76f794a708c0d6">&#9670;&nbsp;</a></span>delete_macro_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delete_macro_buffers </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>trace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete active macro input buffers created by macro expansion. </p>
<p>This function is used when synchronizing after a parse error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trace</td><td>Boolean: if true, a stack trace for the input buffers will be printed to stderr under the heading "MACRO STACK TRACE". </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of input buffers that have been deleted. </dd></dl>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="struct_input_buffer.html#a91a70b77df95bd8b0830b49a094c2acb">InputBuffer::data</a>, <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>, <a class="el" href="struct_input_buffer.html#a86f65b6040271e8fa9a14d8127dd3e30">InputBuffer::macro</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="macro_8c.html#ab4fa2e5cd4b38772e5eb2cce79c4355a">PopInputBuffer()</a>, and <a class="el" href="struct_input_buffer.html#a401e942526aac47cef94f478182486e7">InputBuffer::position</a>.</p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#a1ec7d9fb2be1c33944789d2eb94e1e91">cqp_parse_file()</a>.</p>

</div>
</div>
<a id="abf3ed2aa036c78f4e998a5d1ce6dcd70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3ed2aa036c78f4e998a5d1ce6dcd70">&#9670;&nbsp;</a></span>drop_macros()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drop_macros </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleanup the macro database. </p>

<p class="reference">References <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="macro_8c.html#aa1004b95934708be824fed5928143a57">FreeMacroEntry()</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#ae9d7f6639de6137a22a3cd3b2c89e767">cqp_cleanup_memory()</a>.</p>

</div>
</div>
<a id="a8fa0cb3c9d8ba912f93e1e081875d7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa0cb3c9d8ba912f93e1e081875d7ce">&#9670;&nbsp;</a></span>expand_macro()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int expand_macro </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expand a macro. </p>
<p>This function:</p><ul>
<li>reads the macro argument list using <a class="el" href="macro_8c.html#a9a7bd1b3d14701eb97c03f3ef34deff1" title="flex caller function">yylex()</a>;</li>
<li>looks up the macro by its [name] and number of arguments;</li>
<li>pushes an input buffer containing the subsituted string onto the top of the input buffer list.</li>
</ul>
<p>It's only called by the lexer (as the resulting macro string has to go through the parser).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the macro to be looked up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean true for OK, false if macro is not defined or if there is a syntax error in the argument list. </dd></dl>

<p class="reference">References <a class="el" href="struct___macro_entry.html#aa5805c5e936174e5092bf7a5b78e7e64">_MacroEntry::active</a>, <a class="el" href="struct___macro_segment.html#af09bff4320de23f28f0d261c3b124d6b">_MacroSegment::arg</a>, <a class="el" href="cwb-itoa_8c.html#ac1ed595d526b1beccae8e324475d61ea">buf</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cl_8h.html#aaa4e0fe15413118cb89b4b760b0ce6e3">cl_strcpy()</a>, <a class="el" href="cl_8h.html#a1afd81ceb72fcd8e9e8e91983a0528a8">cl_strdup()</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="struct_input_buffer.html#a91a70b77df95bd8b0830b49a094c2acb">InputBuffer::data</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>, <a class="el" href="struct_input_buffer.html#a86f65b6040271e8fa9a14d8127dd3e30">InputBuffer::macro</a>, <a class="el" href="macro_8c.html#a7fc6f40b13606d7b2c742fbe1c57f759">macro_arg</a>, <a class="el" href="options_8c.html#ab6b7da74334ef7947beb950a49bd49f5">macro_debug</a>, <a class="el" href="macro_8c.html#a383885141745dddffadd73e831fc1db7">macro_debug_newline_indent()</a>, <a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>, <a class="el" href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">MacroHashLookup()</a>, <a class="el" href="struct___macro_segment.html#a942facbda952c1fb5cf24c2337fed25d">_MacroSegment::next</a>, <a class="el" href="macro_8c.html#ad1f498387be877df02325a013b67840f">pseudo_arg_counter</a>, <a class="el" href="macro_8c.html#a5fed303e59be2b2a8f03c38721ce26a5">PushInputBuffer()</a>, <a class="el" href="struct___macro_entry.html#a816ae50b6a3787ea398b6c36a95c02ad">_MacroEntry::replacement</a>, <a class="el" href="struct___macro_segment.html#aed1cfb225a5fb77461e7972691e68a72">_MacroSegment::string</a>, <a class="el" href="concordance_8c.html#a1839056d002d5d62ff27427ef3f1f3cb">token</a>, <a class="el" href="macro_8c.html#a9a7bd1b3d14701eb97c03f3ef34deff1">yylex()</a>, and <a class="el" href="macro_8c.html#ad9264b77d56b6971f29739e2bda77f51">yytext</a>.</p>

</div>
</div>
<a id="aa1004b95934708be824fed5928143a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1004b95934708be824fed5928143a57">&#9670;&nbsp;</a></span>FreeMacroEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FreeMacroEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td>
          <td class="paramname"><em>macro</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>release memory from a MacroEntry object. </p>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a9d102c55be823407140fd98bc0bbe310">_MacroEntry::argnames</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_segment.html#a942facbda952c1fb5cf24c2337fed25d">_MacroSegment::next</a>, <a class="el" href="struct___macro_entry.html#a816ae50b6a3787ea398b6c36a95c02ad">_MacroEntry::replacement</a>, and <a class="el" href="struct___macro_segment.html#aed1cfb225a5fb77461e7972691e68a72">_MacroSegment::string</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#abf3ed2aa036c78f4e998a5d1ce6dcd70">drop_macros()</a>, and <a class="el" href="macro_8c.html#a6f8208e5d12bbef934964e2794902688">MacroHashDelete()</a>.</p>

</div>
</div>
<a id="a46c1888ead3a4dd40dff9eb80c4d7c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46c1888ead3a4dd40dff9eb80c4d7c97">&#9670;&nbsp;</a></span>init_macros()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_macros </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises the macro database: creates the storage hash and defines built-in macros. </p>

<p class="reference">References <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="macro_8c.html#a6ea3775e0459120ac316c8f0d7a01665">InitialiseMacroHash()</a>, and <a class="el" href="macro_8c.html#a1ff84e85833bd3ab041c539d93314f0f">MACRO_HASH_BUCKETS</a>.</p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#a313990999a7a7c5275682411e9b58c89">initialize_cqp()</a>.</p>

</div>
</div>
<a id="a6ea3775e0459120ac316c8f0d7a01665"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ea3775e0459120ac316c8f0d7a01665">&#9670;&nbsp;</a></span>InitialiseMacroHash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void InitialiseMacroHash </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialises the global macro hash; see <a class="el" href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97" title="Initialises the macro database: creates the storage hash and defines built-in macros.">init_macros()</a> for how it's used. </p>

<p class="reference">References <a class="el" href="cl_8h.html#a9802be65bf0ff8268247f5901b172be6">cl_find_prime()</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a46c1888ead3a4dd40dff9eb80c4d7c97">init_macros()</a>.</p>

</div>
</div>
<a id="a214b62018828d8fab1715ab4ce8cfeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a214b62018828d8fab1715ab4ce8cfeca">&#9670;&nbsp;</a></span>list_macros()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void list_macros </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a list of all defined macros to stdout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>If a prefix is passed, only macros whose name begins with that prefix will be printed. Pass NULL for no prefix. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="options_8c.html#abb9f00607f69c02d395e8219f8f08b8c">enable_macros</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="ui-helpers_8c.html#aa3096aa75931a4ea9aad67a290ebce6f">ilist_end()</a>, <a class="el" href="ui-helpers_8c.html#ae698afc3bb40e8d9653db16715bc6efb">ilist_print_break()</a>, <a class="el" href="ui-helpers_8c.html#a4b4942aaefa0d454d2723866258eec1b">ilist_print_item()</a>, <a class="el" href="ui-helpers_8c.html#a6efab5e1e996ca1650091bffdd523dcf">ilist_start()</a>, <a class="el" href="macro_8c.html#a5469149a69e323e2d965f7bcfce934d5">list_macros_sort()</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, <a class="el" href="options_8c.html#a257bb056aaee026d2574fd4d834e2101">pretty_print</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

</div>
</div>
<a id="a5469149a69e323e2d965f7bcfce934d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5469149a69e323e2d965f7bcfce934d5">&#9670;&nbsp;</a></span>list_macros_sort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int list_macros_sort </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>p1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>p2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal function comparing two macros to get their sort order for qsort() </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a214b62018828d8fab1715ab4ce8cfeca">list_macros()</a>.</p>

</div>
</div>
<a id="aceec8fb36c914644e03f35913ee98c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceec8fb36c914644e03f35913ee98c63">&#9670;&nbsp;</a></span>load_macro_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_macro_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the content of a macro definition file and creates the macros therein. </p>
<p>FORMAT: MACRO [name]([numargs]) [macro_definition] ; ... line comments starting with '#' are automatically removed, as is any whitespace at the start or end of a line; blanks are inserted between the lines of a multi-line macro definition</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>File to process. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cl_8h.html#a7480d6ea66599014088f218912ddb89f">cl_realloc()</a>, <a class="el" href="cl_8h.html#a3fb682fcb75104871d6d25e991174ef5">cl_str_is</a>, <a class="el" href="cl_8h.html#a1afd81ceb72fcd8e9e8e91983a0528a8">cl_strdup()</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="cwb-encode_8c.html#ad9a7cec3ffb0dc1735edb8f600a15da1">input_line</a>, <a class="el" href="concordance_8c.html#aa6a1fa6f1fb462f2b7603fd740abcebc">line</a>, <a class="el" href="macro_8h.html#a4ef022d00b06a52901e85ac732fcebc7">MACRO_FILE_MAX_LINE_LENGTH</a>, <a class="el" href="macro_8c.html#ae1cd5b31ff26ec3cd22928e6e3020978">parse_macro_name()</a>, and <a class="el" href="macro_8c.html#abff0ed35d529efe88fb569ebb683d8d3">preprocess_input_line()</a>.</p>

</div>
</div>
<a id="a383885141745dddffadd73e831fc1db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383885141745dddffadd73e831fc1db7">&#9670;&nbsp;</a></span>macro_debug_newline_indent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void macro_debug_newline_indent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>indent macro expansion debugging output (according to number of active input buffers) </p>

<p class="reference">References <a class="el" href="cwb-itoa_8c.html#ac1ed595d526b1beccae8e324475d61ea">buf</a>, and <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>, and <a class="el" href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">yy_input_char()</a>.</p>

</div>
</div>
<a id="af71b888f91866cb980e41848a41a3f9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71b888f91866cb980e41848a41a3f9c">&#9670;&nbsp;</a></span>macro_iterator_next_prototype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* macro_iterator_next_prototype </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the next macro from the iterator (returned as formatted prototype in a string). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>Optional macro-name-prefix; if specified, iterator will pass over non-matching macros; pass NULL to leave unspecified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Prototype of the next macro (matching [prefix] if specified); or NULL at the end of the macro database, or if macros are disabled or not initialised. The returned string is newly allocated, and should be freed by the caller. </dd></dl>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a9d102c55be823407140fd98bc0bbe310">_MacroEntry::argnames</a>, <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">macro_iterator_seek()</a>, and <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>.</p>

</div>
</div>
<a id="ac2f92868a78fce21b5d1363099e43b14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f92868a78fce21b5d1363099e43b14">&#9670;&nbsp;</a></span>macro_iterator_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macro_iterator_reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise, or reset, the macro database iterator, by setting the tracking variables to the beginning of the database table. </p>
<p>It does this by setting module-global tracking variables, iterator_bucket and iterator_entry, to their initial values (so the next call to the macro iterator will return the <em>first</em> macro). </p>

<p class="reference">References <a class="el" href="macro_8c.html#a63f983f3dcf52707eed5f88c66152771">iterator_bucket</a>, and <a class="el" href="macro_8c.html#adb5707675db10c3235ef39a9ecd130b0">iterator_entry</a>.</p>

</div>
</div>
<a id="ab714186f435af0452f62f6d0b410799a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab714186f435af0452f62f6d0b410799a">&#9670;&nbsp;</a></span>macro_iterator_seek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> macro_iterator_seek </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal iterator function used by macro_iterator_next() and <a class="el" href="macro_8c.html#af71b888f91866cb980e41848a41a3f9c" title="Get the next macro from the iterator (returned as formatted prototype in a string).">macro_iterator_next_prototype()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>A string prefix; if not NULL, macros that don't match will be skipped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Next MacroEntry; if macros are disabled or not initialised, NULL; NULL will also be returned if the iterator gets to the end of the table of macros. </dd></dl>

<p class="reference">References <a class="el" href="options_8c.html#abb9f00607f69c02d395e8219f8f08b8c">enable_macros</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#a63f983f3dcf52707eed5f88c66152771">iterator_bucket</a>, <a class="el" href="macro_8c.html#adb5707675db10c3235ef39a9ecd130b0">iterator_entry</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#af71b888f91866cb980e41848a41a3f9c">macro_iterator_next_prototype()</a>.</p>

</div>
</div>
<a id="a85802d14f3195882d3e1be796d722fd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85802d14f3195882d3e1be796d722fd0">&#9670;&nbsp;</a></span>macro_statistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void macro_statistics </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints macro hash statistics on stderr. </p>
<p>This function is called by CQP if MacroDebug is activated. </p>

<p class="reference">References <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="llquery_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a id="a56111f442e499073843184220872286d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56111f442e499073843184220872286d">&#9670;&nbsp;</a></span>MacroAddSegment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="macro_8c.html#a815d704b3d3bd0dd7988d2316138b1f4">MacroSegment</a> MacroAddSegment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td>
          <td class="paramname"><em>macro</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>append segment to macro replacement string, returns pointer to the new, initialised segment </p>

<p class="reference">References <a class="el" href="struct___macro_segment.html#af09bff4320de23f28f0d261c3b124d6b">_MacroSegment::arg</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="struct___macro_segment.html#a942facbda952c1fb5cf24c2337fed25d">_MacroSegment::next</a>, <a class="el" href="struct___macro_entry.html#a816ae50b6a3787ea398b6c36a95c02ad">_MacroEntry::replacement</a>, and <a class="el" href="struct___macro_segment.html#aed1cfb225a5fb77461e7972691e68a72">_MacroSegment::string</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>.</p>

</div>
</div>
<a id="af8bb6e70ecdad1a0f3b5675cc11f7c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8bb6e70ecdad1a0f3b5675cc11f7c8b">&#9670;&nbsp;</a></span>MacroHashAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> MacroHashAdd </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a macro to the hash. </p>
<p>NB if you add a macro key that is already in the hash, the new entry will hide the old one, in accordance with the macro redefinition strategy.</p>
<p>(Macro keys are defined deterministically from the macro's name and number of arguments.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>The string for the macro's name. </td></tr>
    <tr><td class="paramname">n_args</td><td>The number of arguments the macro has. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new MacroEntry. </dd></dl>

<p class="reference">References <a class="el" href="struct___macro_entry.html#aa5805c5e936174e5092bf7a5b78e7e64">_MacroEntry::active</a>, <a class="el" href="struct___macro_entry.html#a9d102c55be823407140fd98bc0bbe310">_MacroEntry::argnames</a>, <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="cl_8h.html#a1afd81ceb72fcd8e9e8e91983a0528a8">cl_strdup()</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#adcd82d7eeda5c751ea31e29ce9540471">hash_macro</a>, <a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, <a class="el" href="struct___macro_entry.html#a816ae50b6a3787ea398b6c36a95c02ad">_MacroEntry::replacement</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>.</p>

</div>
</div>
<a id="a6f8208e5d12bbef934964e2794902688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8208e5d12bbef934964e2794902688">&#9670;&nbsp;</a></span>MacroHashDelete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MacroHashDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a>&#160;</td>
          <td class="paramname"><em>macro</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>remove macro from hash ... </p>
<p>this is worse than you'd think at first </p>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="cqp_8c.html#a354b8bacd2c3c4926ef177ad833afda5">cqp_error_status</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="macro_8c.html#aa1004b95934708be824fed5928143a57">FreeMacroEntry()</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#adcd82d7eeda5c751ea31e29ce9540471">hash_macro</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>.</p>

</div>
</div>
<a id="afcbeaca994ae5aed23265c92054c5670"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcbeaca994ae5aed23265c92054c5670">&#9670;&nbsp;</a></span>MacroHashLookup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> MacroHashLookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>find hash entry; returns MacroEntry or NULL if not in hash </p>

<p class="reference">References <a class="el" href="struct___macro_entry.html#a1bd7a8575ca2650132d636d65dcda2f6">_MacroEntry::args</a>, <a class="el" href="cl_8h.html#af3b6fde8bb8969f9811b2c71a1dd264e">cl_streq</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="struct_macro_hash_table.html#ad6de3bc4531a963bd66f9c2e576a226d">MacroHashTable::hash</a>, <a class="el" href="macro_8c.html#adcd82d7eeda5c751ea31e29ce9540471">hash_macro</a>, <a class="el" href="macro_8c.html#accee2e538fd6ce95f96066a3028d7dc4">MacroHash</a>, <a class="el" href="struct___macro_entry.html#a5ac083a645d964373f022d03df4849c8">_MacroEntry::name</a>, <a class="el" href="struct___macro_entry.html#a73b7c6858ac6cdc4af77d1646ae19ace">_MacroEntry::next</a>, and <a class="el" href="struct_macro_hash_table.html#a439227feff9d7f55384e8780cfc2eb82">MacroHashTable::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a40ffc5550ac962623c60d11b50b8e7e3">define_macro()</a>, <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>, and <a class="el" href="macro_8c.html#a044a231e459da3a43f7672c96dd73771">print_macro_definition()</a>.</p>

</div>
</div>
<a id="ae1cd5b31ff26ec3cd22928e6e3020978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cd5b31ff26ec3cd22928e6e3020978">&#9670;&nbsp;</a></span>parse_macro_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* parse_macro_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nr_of_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>prototype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function for <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63" title="Loads the content of a macro definition file and creates the macros therein.">load_macro_file()</a>: parse macro name &amp; number of arguments. </p>
<p>expected format: [whitespace] [identifier] '(' [digit] ')' -&gt; sets nr_of_args, prototype = NULL or: [whitespace] [identfifier] '(' [prototype] ')' -&gt; nr_of_args = 0, prototype = copy of [prototype]</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to copy of [identifier] or NULL on parse error </dd></dl>

<p class="reference">References <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63">load_macro_file()</a>.</p>

</div>
</div>
<a id="ab4fa2e5cd4b38772e5eb2cce79c4355a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4fa2e5cd4b38772e5eb2cce79c4355a">&#9670;&nbsp;</a></span>PopInputBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PopInputBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>delete input buffer from top of list </p>

<p class="reference">References <a class="el" href="struct___macro_entry.html#aa5805c5e936174e5092bf7a5b78e7e64">_MacroEntry::active</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="struct_input_buffer.html#a91a70b77df95bd8b0830b49a094c2acb">InputBuffer::data</a>, <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>, <a class="el" href="struct_input_buffer.html#a86f65b6040271e8fa9a14d8127dd3e30">InputBuffer::macro</a>, and <a class="el" href="struct_input_buffer.html#a6a0248c6055d00e1c4bb0d9090c339b0">InputBuffer::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a20609770576af56b3e76f794a708c0d6">delete_macro_buffers()</a>, and <a class="el" href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">yy_input_char()</a>.</p>

</div>
</div>
<a id="abff0ed35d529efe88fb569ebb683d8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff0ed35d529efe88fb569ebb683d8d3">&#9670;&nbsp;</a></span>preprocess_input_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* preprocess_input_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>internal function for <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63" title="Loads the content of a macro definition file and creates the macros therein.">load_macro_file()</a>: remove whitespace &amp; comments from input line </p>

<p class="reference">References <a class="el" href="cl_8h.html#a88c35b9f77f3e3b65208651a11a5fd04">cl_string_chomp()</a>, and <a class="el" href="concordance_8c.html#aa6a1fa6f1fb462f2b7603fd740abcebc">line</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#aceec8fb36c914644e03f35913ee98c63">load_macro_file()</a>.</p>

</div>
</div>
<a id="a044a231e459da3a43f7672c96dd73771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044a231e459da3a43f7672c96dd73771">&#9670;&nbsp;</a></span>print_macro_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_macro_definition </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>n_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the definition of a given macro on stdout. </p>
<p>The macro is specified by its name and number of arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the macro to print. </td></tr>
    <tr><td class="paramname">n_args</td><td>Number of arguments of the macro to print. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="struct___macro_segment.html#af09bff4320de23f28f0d261c3b124d6b">_MacroSegment::arg</a>, <a class="el" href="struct___macro_entry.html#a9d102c55be823407140fd98bc0bbe310">_MacroEntry::argnames</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="options_8c.html#abb9f00607f69c02d395e8219f8f08b8c">enable_macros</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a4dfd42ec49d09d8c6555c218301cc30f">Error</a>, <a class="el" href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">MacroHashLookup()</a>, <a class="el" href="struct___macro_segment.html#a942facbda952c1fb5cf24c2337fed25d">_MacroSegment::next</a>, <a class="el" href="struct___macro_entry.html#a816ae50b6a3787ea398b6c36a95c02ad">_MacroEntry::replacement</a>, and <a class="el" href="struct___macro_segment.html#aed1cfb225a5fb77461e7972691e68a72">_MacroSegment::string</a>.</p>

</div>
</div>
<a id="a5fed303e59be2b2a8f03c38721ce26a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fed303e59be2b2a8f03c38721ce26a5">&#9670;&nbsp;</a></span>PushInputBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="struct_input_buffer.html">InputBuffer</a> PushInputBuffer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>push new input buffer (which can hold string of length [size]) onto the top of buffer list </p>

<p class="reference">References <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="struct_input_buffer.html#a91a70b77df95bd8b0830b49a094c2acb">InputBuffer::data</a>, <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>, <a class="el" href="struct_input_buffer.html#a86f65b6040271e8fa9a14d8127dd3e30">InputBuffer::macro</a>, <a class="el" href="struct_input_buffer.html#a6a0248c6055d00e1c4bb0d9090c339b0">InputBuffer::next</a>, and <a class="el" href="struct_input_buffer.html#a401e942526aac47cef94f478182486e7">InputBuffer::position</a>.</p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>.</p>

</div>
</div>
<a id="a01ff9eb9b38042da7ebaffa9f379a6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ff9eb9b38042da7ebaffa9f379a6d2">&#9670;&nbsp;</a></span>yy_input_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int yy_input_char </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a character for the lexer/parser. </p>
<p>This function reads one character (byte) of input from InputBufferList[top], ... , InputBufferList[bottom], cqp_input_string, yyin in that order of precedence.</p>
<p>It adds the character to query buffer, and returns it.</p>
<p>Used by the lexer to get its characters; see parser.l where YY_INPUT() is defined to call this function.</p>
<p>This function is in this file because it accesses the variables associated with CQP-macro input buffering. </p>

<p class="reference">References <a class="el" href="cwb-itoa_8c.html#ac1ed595d526b1beccae8e324475d61ea">buf</a>, <a class="el" href="cqp_8c.html#a27d0516bdf945bd7f60c3c9b66be0145">cqp_input_string</a>, <a class="el" href="cqp_8c.html#ad0ece7f761543a30e154ef4bffc1c107">cqp_input_string_ix</a>, <a class="el" href="output_8c.html#a593fc12047ccf79f2e3b6b29e32988f0">cqpmessage()</a>, <a class="el" href="macro_8c.html#ae685ce5893cca50a3d34c96da3fed907">InputBufferList</a>, <a class="el" href="options_8c.html#ab6b7da74334ef7947beb950a49bd49f5">macro_debug</a>, <a class="el" href="macro_8c.html#a383885141745dddffadd73e831fc1db7">macro_debug_newline_indent()</a>, <a class="el" href="macro_8c.html#ab4fa2e5cd4b38772e5eb2cce79c4355a">PopInputBuffer()</a>, <a class="el" href="cqp_8h.html#a3d65e5ebeda0733ad22f5f9ea26d76f4">QUERY_BUFFER_SIZE</a>, <a class="el" href="cqp_8c.html#adfbde17c16a76552596e50bd3c371382">QueryBuffer</a>, <a class="el" href="cqp_8c.html#a54d95727d347da93ae0866f293f729c4">QueryBufferOverflow</a>, <a class="el" href="cqp_8c.html#ac0d42ac5f8866bd18648afcc372e650c">QueryBufferP</a>, <a class="el" href="cqp_8c.html#a3818b52c87d9e25995878f0719a1f15e">reading_cqprc</a>, <a class="el" href="output_8h.html#a9c2eeea9cd09fb001747ef4cc99399a4a48f2bb70fceb692a2dedd8cea496c44b">Warning</a>, <a class="el" href="options_8c.html#ac6e855a8973a6f82ba35f4ee2927091e">write_history_file</a>, and <a class="el" href="macro_8c.html#a46af646807e0797e72b6e8945e7ea88b">yyin</a>.</p>

</div>
</div>
<a id="a9a7bd1b3d14701eb97c03f3ef34deff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a7bd1b3d14701eb97c03f3ef34deff1">&#9670;&nbsp;</a></span>yylex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int yylex </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flex caller function </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae685ce5893cca50a3d34c96da3fed907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae685ce5893cca50a3d34c96da3fed907">&#9670;&nbsp;</a></span>InputBufferList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_input_buffer.html">InputBuffer</a> InputBufferList = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Head of linked list of active input buffers (for the macro system). </p>
<p>This is exported because <a class="el" href="cqp_8c.html">cqp.c</a> needs access to the InputBufferList, to make it possible to back up &amp; suspend the macro expansion buffers while EXEC'ing another CQP script. </p>

<p class="reference">Referenced by <a class="el" href="cqp_8c.html#a1ec7d9fb2be1c33944789d2eb94e1e91">cqp_parse_file()</a>, <a class="el" href="macro_8c.html#a20609770576af56b3e76f794a708c0d6">delete_macro_buffers()</a>, <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>, <a class="el" href="macro_8c.html#a383885141745dddffadd73e831fc1db7">macro_debug_newline_indent()</a>, <a class="el" href="macro_8c.html#ab4fa2e5cd4b38772e5eb2cce79c4355a">PopInputBuffer()</a>, <a class="el" href="macro_8c.html#a5fed303e59be2b2a8f03c38721ce26a5">PushInputBuffer()</a>, and <a class="el" href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">yy_input_char()</a>.</p>

</div>
</div>
<a id="a63f983f3dcf52707eed5f88c66152771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63f983f3dcf52707eed5f88c66152771">&#9670;&nbsp;</a></span>iterator_bucket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int iterator_bucket = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current bucket in the macro iterator. </p>
<p>-1 indicates we are right at the start. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="macro_8c.html#adb5707675db10c3235ef39a9ecd130b0" title="Current entry in the current bucket of the macro iterator (on iterator increment, if NULL,...">iterator_entry</a> </dd>
<dd>
<a class="el" href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14" title="Initialise, or reset, the macro database iterator, by setting the tracking variables to the beginning...">macro_iterator_reset</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14">macro_iterator_reset()</a>, and <a class="el" href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">macro_iterator_seek()</a>.</p>

</div>
</div>
<a id="adb5707675db10c3235ef39a9ecd130b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5707675db10c3235ef39a9ecd130b0">&#9670;&nbsp;</a></span>iterator_entry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="macro_8c.html#a3fee609f5ac8fabca5c305bf716a2169">MacroEntry</a> iterator_entry = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current entry in the current bucket of the macro iterator (on iterator increment, if NULL, go to next bucket). </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="macro_8c.html#a63f983f3dcf52707eed5f88c66152771" title="Current bucket in the macro iterator.">iterator_bucket</a> </dd>
<dd>
<a class="el" href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14" title="Initialise, or reset, the macro database iterator, by setting the tracking variables to the beginning...">macro_iterator_reset</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#ac2f92868a78fce21b5d1363099e43b14">macro_iterator_reset()</a>, and <a class="el" href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">macro_iterator_seek()</a>.</p>

</div>
</div>
<a id="a7fc6f40b13606d7b2c742fbe1c57f759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc6f40b13606d7b2c742fbe1c57f759">&#9670;&nbsp;</a></span>macro_arg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* macro_arg[<a class="el" href="macro_8c.html#aada9bbc8f8100871aac016146396d7e5">MACRO_MAX_ARGS</a>] = {NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro args are stored in a global array so we can always free() the memory </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>.</p>

</div>
</div>
<a id="accee2e538fd6ce95f96066a3028d7dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accee2e538fd6ce95f96066a3028d7dc4">&#9670;&nbsp;</a></span>MacroHash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_macro_hash_table.html">MacroHashTable</a> MacroHash = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Global macro database. </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#abf3ed2aa036c78f4e998a5d1ce6dcd70">drop_macros()</a>, <a class="el" href="macro_8c.html#a6ea3775e0459120ac316c8f0d7a01665">InitialiseMacroHash()</a>, <a class="el" href="macro_8c.html#a214b62018828d8fab1715ab4ce8cfeca">list_macros()</a>, <a class="el" href="macro_8c.html#ab714186f435af0452f62f6d0b410799a">macro_iterator_seek()</a>, <a class="el" href="macro_8c.html#a85802d14f3195882d3e1be796d722fd0">macro_statistics()</a>, <a class="el" href="macro_8c.html#af8bb6e70ecdad1a0f3b5675cc11f7c8b">MacroHashAdd()</a>, <a class="el" href="macro_8c.html#a6f8208e5d12bbef934964e2794902688">MacroHashDelete()</a>, and <a class="el" href="macro_8c.html#afcbeaca994ae5aed23265c92054c5670">MacroHashLookup()</a>.</p>

</div>
</div>
<a id="ad1f498387be877df02325a013b67840f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f498387be877df02325a013b67840f">&#9670;&nbsp;</a></span>pseudo_arg_counter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int pseudo_arg_counter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>unique number for pseudo argument in each macro call </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>.</p>

</div>
</div>
<a id="a46af646807e0797e72b6e8945e7ea88b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46af646807e0797e72b6e8945e7ea88b">&#9670;&nbsp;</a></span>yyin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* yyin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flex input when parsing file </p>

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a01ff9eb9b38042da7ebaffa9f379a6d2">yy_input_char()</a>.</p>

</div>
</div>
<a id="ad9264b77d56b6971f29739e2bda77f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9264b77d56b6971f29739e2bda77f51">&#9670;&nbsp;</a></span>yytext</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* yytext</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="macro_8c.html#a8fa0cb3c9d8ba912f93e1e081875d7ce">expand_macro()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_caf978792d6b0705158f044348baeba4.html">cqp</a></li><li class="navelem"><a class="el" href="macro_8c.html">macro.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
